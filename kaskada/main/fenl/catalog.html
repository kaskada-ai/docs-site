<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fenl Catalog :: Kaskada Docs</title>
    <link rel="canonical" href="https://kaskada-ai.github.io/docs-site/kaskada/main/fenl/catalog.html">
    <link rel="prev" href="continuity.html">
    <link rel="next" href="fenl-faq.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://kaskada-ai.github.io/docs-site">Kaskada Docs</a>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>
</header><div class="body">
<div class="nav-container" data-component="kaskada" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Kaskada Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-world.html">Quick Start</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-client-setup.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-querying-data.html">Querying Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-sharing-queries.html">Sharing Queries</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing.html">Installing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../loading-data.html">Loading Data</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/tables.html">Working with Tables</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/writing-queries.html">Writing Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/example-queries.html">Examples Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/working-with-slices.html">Working with Slices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/views.html">Working with Views</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/working-with-materializations.html">Working with Materializations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrating</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrating/integrating-with-feature-stores.html">Integrating with ML feature stores</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tools and Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tools-and-resources/training-realtime-ml-models.html">Training real-time ML models</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tools-and-resources/exporting-for-training.html">Example Modeling Problem</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Fenl</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fenl-quick-start.html">Fenl Quick Start</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="language-guide.html">Fenl Language Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-model.html">Data model</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="syntax.html">Syntax</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="entities.html">Entities</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="temporal-aggregation.html">Temporal Computation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="aggregation-and-windowing.html">Aggregation and Windowing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="continuity.html">Continuity</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="catalog.html">Fenl Catalog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fenl-faq.html">Fenl FAQ</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="working-with-records.html">Working with Records</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Kaskada Documentation</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Kaskada Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Kaskada Documentation</a></li>
    <li>Fenl</li>
    <li><a href="catalog.html">Fenl Catalog</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Fenl Catalog</h1>
<div class="sect1">
<h2 id="functions"><a class="anchor" href="#functions"></a><a class="link" href="#functions">Functions</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#add">add</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the sum of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#add_time">add_time</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a <code>timedelta</code> (duration or interval) to
a time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#ceil">ceil</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rounds the number up to the next largest integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#clamp">clamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>value</code> clamped between the bounds <code>min</code>
and <code>max</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#coalesce">coalesce</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return first non-<code>null</code> value or <code>null</code> if
all values are <code>null</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#count">count</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts each new, non-<code>null</code> value in the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#count_if">count_if</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts each <code>true</code> value across in input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#daily">daily</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code> value at
the start of each calendar day (UTC).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#day_of_month">day_of_month</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day-of-month for the given
time, starting with 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#day_of_month0">day_of_month0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day-of-month for the
given time, starting with 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#day_of_year">day_of_year</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day-of-year for the given
time, starting with 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#day_of_year0">day_of_year0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day-of-year for the given
time, starting with 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#days">days</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces an interval corresponding to the given
number of calendar days.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#days_between">days_between</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the number of days between
the first and second timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#div">div</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the division of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#else">else</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the <code>value</code> if it is non-<code>null</code>, <code>default</code>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#eq">eq</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#exp">exp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>e^power</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#extend">extend</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extends a record with fields from another.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#first">first</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the first value present across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#floor">floor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rounds the number down to the next smallest
integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#gt">gt</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is greater than <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#gte">gte</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is greater than or equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hash">hash</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the hash of the <code>input</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hourly">hourly</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code> value
at the start of each hour.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#if">if</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the <code>value</code> if <code>condition</code> is <code>true</code>, <code>null</code>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#is_valid">is_valid</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>true</code> if <code>input</code> is non-<code>null</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#json">json</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a JSON object from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lag">lag</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a lagging value of <code>e</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#last">last</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the last value present across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#len">len</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the length of the string <code>s</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#logical_and">logical_and</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the logical conjunction (AND)
of two booleans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#logical_or">logical_or</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the logical disjunction (OR) of
two booleans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lookup">lookup</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Looks up the value for a foreign key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lower">lower</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts the string to lower case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lt">lt</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is less than <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lte">lte</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is less than or equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#max">max</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the maximum of values across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mean">mean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the arithmetic mean of values across the
input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#min">min</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the minimum of values across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#minutely">minutely</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code>
value at the start of each minutely.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#month_of_year">month_of_year</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the month-of-year for the
given time, starting with 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#month_of_year0">month_of_year0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the month-of-year for the
given time, starting with 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#monthly">monthly</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code>
value at the start of each calendar month (UTC).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#months">months</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces an interval corresponding to the given
number of calendar months.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#months_between">months_between</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the number of months
between the first and second timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mul">mul</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the product of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#neg">neg</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the negation of <code>n</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#neq">neq</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is not equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#not">not</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the logical negation of a boolean.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#null_if">null_if</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the <code>value</code> if <code>condition</code> is <code>false</code>,
<code>null</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#powf">powf</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>base^power</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#remove_fields">remove_fields</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove fields from a record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#round">round</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rounds the number to the nearest integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#seconds">seconds</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces a duration corresponding to the given
number of seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#seconds_between">seconds_between</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the number of seconds
between the first and second timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#select_fields">select_fields</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limits fields in a record to a
given set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#shift_to">shift_to</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces the current <code>value</code> shifted forward
to the given <code>time</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#shift_until">shift_until</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces the <code>value</code> shifted forward to
the time the <code>predicate</code> is true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#since">since</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures a windowed aggregation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sliding">sliding</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures sliding windowed aggregations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sqrt">sqrt</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the square root of <code>a</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#stddev">stddev</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the sample standard deviation of values
across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sub">sub</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the difference of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#substring">substring</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a substring of the input between
start and end indices.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sum">sum</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the sum of values across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#time_of">time_of</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the timestamp of rows in <code>input</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#upper">upper</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts the string to upper case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#variance">variance</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the sample variance of values across
the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#when">when</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces the current <code>value</code> when the <code>condition</code>
evaluates to <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#with_key">with_key</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changes the grouping of the input <code>value</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#year">year</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the year of the given timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#yearly">yearly</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code> value
at the start of each calendar year (UTC).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zip_max">zip_max</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the maximum of two values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zip_min">zip_min</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the minimum of two values.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="function-categories"><a class="anchor" href="#function-categories"></a><a class="link" href="#function-categories">Function Categories</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="operators"><a class="anchor" href="#operators"></a><a class="link" href="#operators">Operators</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#add">a + b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the sum of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#div">a / b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the division of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#eq" class="bare">#eq</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#gt">a &gt; b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is greater than <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#gte">a &gt;= b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is greater than or equal to
<code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#logical_and">a and b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the logical conjunction (AND) of
two booleans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#logical_or">a or b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the logical disjunction (OR) of two
booleans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lt">a &lt; b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is less than <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lte">a &lt; b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is less than or equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mul">a * b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the product of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#neg">-n</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the negation of <code>n</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#neq">a != b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is not equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#not">!input</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the logical negation of a boolean.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sub">a - b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the difference of two numbers.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="aggregation-functions"><a class="anchor" href="#aggregation-functions"></a><a class="link" href="#aggregation-functions">Aggregation Functions</a></h3>
<div class="paragraph">
<p>Aggregation functions provide the mechanism for computing across rows.
The result of an aggregation represents the aggregate result for each
key up to and including the current row. This approximately corresponds
to the result you would get if you ran a SQL aggregation over the values
available at the time of that row.</p>
</div>
<div class="paragraph">
<p>Aggregations may be configured to operate in a specific window by
providing a <a href="#window-functions">window function</a> as the optional
<code>window</code> argument. If no window is provided, the aggregation is over all
rows for the entity, up to and including the current time. If a window
is provided, the result of an aggregation is the result for that entity
in the current window up to and including the current time. The current
window is often not yet complete.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All aggregations in Fenl are implicitly scoped to the entity key.
This would be equivalent to performing a grouped aggregation in SQL.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#count">count</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts each new, non-<code>null</code> value in the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#count_if">count_if</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counts each <code>true</code> value across in input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#first">first</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the first value present across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#last">last</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the last value present across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#max">max</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the maximum of values across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mean">mean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the arithmetic mean of values across the
input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#min">min</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the minimum of values across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#stddev">stddev</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the sample standard deviation of values
across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sum">sum</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the sum of values across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#variance">variance</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the sample variance of values across
the input.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="comparison-functions"><a class="anchor" href="#comparison-functions"></a><a class="link" href="#comparison-functions">Comparison Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#eq">eq</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#gt">gt</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is greater than <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#gte">gte</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is greater than or equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lt">lt</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is less than <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lte">lte</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is less than or equal to <code>b</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#neq">neq</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return <code>true</code> if <code>a</code> is not equal to <code>b</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="grouping-functions"><a class="anchor" href="#grouping-functions"></a><a class="link" href="#grouping-functions">Grouping Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lookup">lookup</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Looks up the value for a foreign key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#with_key">with_key</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changes the grouping of the input <code>value</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="logical-functions"><a class="anchor" href="#logical-functions"></a><a class="link" href="#logical-functions">Logical Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#coalesce">coalesce</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return first non-<code>null</code> value or <code>null</code> if
all values are <code>null</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#else">else</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the <code>value</code> if it is non-<code>null</code>, <code>default</code>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#if">if</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the <code>value</code> if <code>condition</code> is <code>true</code>, <code>null</code>
otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#logical_and">logical_and</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the logical conjunction (AND)
of two booleans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#logical_or">logical_or</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the logical disjunction (OR) of
two booleans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#not">not</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the logical negation of a boolean.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#null_if">null_if</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the <code>value</code> if <code>condition</code> is <code>false</code>,
<code>null</code> otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="math-functions"><a class="anchor" href="#math-functions"></a><a class="link" href="#math-functions">Math Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#add">add</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the sum of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#ceil">ceil</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rounds the number up to the next largest integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#clamp">clamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>value</code> clamped between the bounds <code>min</code>
and <code>max</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#div">div</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the division of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#exp">exp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>e^power</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#floor">floor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rounds the number down to the next smallest
integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#max">max</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the maximum of values across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mean">mean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the arithmetic mean of values across the
input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#min">min</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the minimum of values across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mul">mul</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the product of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#neg">neg</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the negation of <code>n</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#powf">powf</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>base^power</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#round">round</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rounds the number to the nearest integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sqrt">sqrt</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the square root of <code>a</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#stddev">stddev</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the sample standard deviation of values
across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sub">sub</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the difference of two numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sum">sum</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the sum of values across the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#variance">variance</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Computes the sample variance of values across
the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zip_max">zip_max</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the maximum of two values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zip_min">zip_min</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the minimum of two values.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="misc-functions"><a class="anchor" href="#misc-functions"></a><a class="link" href="#misc-functions">Misc Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hash">hash</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the hash of the <code>input</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#is_valid">is_valid</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>true</code> if <code>input</code> is non-<code>null</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="record-functions"><a class="anchor" href="#record-functions"></a><a class="link" href="#record-functions">Record Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#extend">extend</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extends a record with fields from another.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#remove_fields">remove_fields</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove fields from a record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#select_fields">select_fields</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limits fields in a record to a
given set.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="string-functions"><a class="anchor" href="#string-functions"></a><a class="link" href="#string-functions">String Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#json">json</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a JSON object from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#len">len</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the length of the string <code>s</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lower">lower</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts the string to lower case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#substring">substring</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a substring of the input between
start and end indices.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#upper">upper</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts the string to upper case.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="tick-functions"><a class="anchor" href="#tick-functions"></a><a class="link" href="#tick-functions">Tick Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#daily">daily</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code> value at
the start of each calendar day (UTC).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hourly">hourly</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code> value
at the start of each hour.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#minutely">minutely</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code>
value at the start of each minutely.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#monthly">monthly</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code>
value at the start of each calendar month (UTC).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#yearly">yearly</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A periodic function that produces a <code>true</code> value
at the start of each calendar year (UTC).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="time-functions"><a class="anchor" href="#time-functions"></a><a class="link" href="#time-functions">Time Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#add_time">add_time</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a <code>timedelta</code> (duration or interval) to
a time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#day_of_month">day_of_month</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day-of-month for the given
time, starting with 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#day_of_month0">day_of_month0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day-of-month for the
given time, starting with 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#day_of_year">day_of_year</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day-of-year for the given
time, starting with 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#day_of_year0">day_of_year0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day-of-year for the given
time, starting with 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#days">days</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces an interval corresponding to the given
number of calendar days.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#days_between">days_between</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the number of days between
the first and second timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lag">lag</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a lagging value of <code>e</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#month_of_year">month_of_year</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the month-of-year for the
given time, starting with 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#month_of_year0">month_of_year0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the month-of-year for the
given time, starting with 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#months">months</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces an interval corresponding to the given
number of calendar months.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#months_between">months_between</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the number of months
between the first and second timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#seconds">seconds</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces a duration corresponding to the given
number of seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#seconds_between">seconds_between</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the number of seconds
between the first and second timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#shift_to">shift_to</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces the current <code>value</code> shifted forward
to the given <code>time</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#shift_until">shift_until</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces the <code>value</code> shifted forward to
the time the <code>predicate</code> is true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#time_of">time_of</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the timestamp of rows in <code>input</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#when">when</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produces the current <code>value</code> when the <code>condition</code>
evaluates to <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#year">year</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the year of the given timestamp.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="window-functions"><a class="anchor" href="#window-functions"></a><a class="link" href="#window-functions">Window Functions</a></h3>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#since">since</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures a windowed aggregation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sliding">sliding</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures sliding windowed aggregations.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="function-details"><a class="anchor" href="#function-details"></a><a class="link" href="#function-details">Function Details</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="add"><a class="anchor" href="#add"></a><a class="link" href="#add">add</a></h3>
<div class="paragraph">
<p>Returns the sum of two numbers.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary operation <code>a + b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters"><a class="anchor" href="#parameters"></a><a class="link" href="#parameters">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left-hand side of the addition.</p>
</li>
<li>
<p>b: The right-hand side of the addition.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> are promoted to a compatible numeric type
following the docs:data-model#numeric-type-coercion-table[numeric type
coercion rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results"><a class="anchor" href="#results"></a><a class="link" href="#results">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the promoted numeric type compatible with
both <code>a</code> and <code>b</code>. The result contains <code>null</code> if <code>a</code> or <code>b</code> was null at
that row. Otherwise the row contains the sum of <code>a</code> and <code>b</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-addition"><a class="anchor" href="#example-addition"></a><a class="link" href="#example-addition">Example: Addition</a></h4>
<div class="paragraph">
<p>In this example, <code>a</code> is an integer column (defaulting to <code>i64</code>) and <code>b</code>
is a floating point column (defaulting to <code>f64</code>). The result is a
floating point column, achieved by implicitly converting <code>a</code> to <code>f64</code>.</p>
</div>
<div class="sect4">
<h5 id="query"><a class="anchor" href="#query"></a><a class="link" href="#query">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a + Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input"><a class="anchor" href="#table-input"></a><a class="link" href="#table-input">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv"><a class="anchor" href="#output-csv"></a><a class="link" href="#output-csv">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="add_time"><a class="anchor" href="#add_time"></a><a class="link" href="#add_time">add_time</a></h3>
<div class="paragraph">
<p>Adds a <code>timedelta</code> (duration or interval) to a time.</p>
</div>
<div class="sect3">
<h4 id="parameters-2"><a class="anchor" href="#parameters-2"></a><a class="link" href="#parameters-2">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>delta: The time delta to add to the timestamp. See other
<a href="#time-functions">time functions</a> for how to create `timedelta`s.</p>
</li>
<li>
<p>time: The time to add to.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-2"><a class="anchor" href="#results-2"></a><a class="link" href="#results-2">Results</a></h4>
<div class="paragraph">
<p>Returns a time column with each row containing the value of <code>time</code> for
that row plus the given <code>delta</code>. If either the <code>delta</code> or <code>time</code> are
<code>null</code> then the result is <code>null</code> in that row.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-adding-a-fixed-number-of-days"><a class="anchor" href="#example-adding-a-fixed-number-of-days"></a><a class="link" href="#example-adding-a-fixed-number-of-days">Example: Adding a fixed number of days</a></h4>
<div class="paragraph">
<p>This example uses <a href="#days"><code>days</code></a> to create a fixed <code>interval_days</code>
to add to a given date.</p>
</div>
<div class="sect4">
<h5 id="query-2"><a class="anchor" href="#query-2"></a><a class="link" href="#query-2">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.time | add_time(days(3))</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-2"><a class="anchor" href="#table-input-2"></a><a class="link" href="#table-input-2">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-2"><a class="anchor" href="#output-csv-2"></a><a class="link" href="#output-csv-2">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-24T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-24T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-24T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-24T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-24T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-24T00:00:00.000000000</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ceil"><a class="anchor" href="#ceil"></a><a class="link" href="#ceil">ceil</a></h3>
<div class="paragraph">
<p>Rounds the number up to the next largest integer.</p>
</div>
<div class="paragraph">
<p>See also <a href="#round"><code>round</code></a> and <a href="#floor"><code>floor</code></a>.</p>
</div>
<div class="sect3">
<h4 id="parameters-3"><a class="anchor" href="#parameters-3"></a><a class="link" href="#parameters-3">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>n: The number to round up.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: This method may be applied to any numeric type. For anything other
than <code>float32</code> and <code>float64</code> it has no affect since the values are
already integers.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-3"><a class="anchor" href="#results-3"></a><a class="link" href="#results-3">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the same type as <code>n</code>. The result contains
<code>null</code> if <code>n</code> was null at that position. Otherwise, it contains the
result of rounding <code>n</code> up to the next largest integer.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-ceil"><a class="anchor" href="#example-ceil"></a><a class="link" href="#example-ceil">Example: Ceil</a></h4>
<div class="sect4">
<h5 id="query-3"><a class="anchor" href="#query-3"></a><a class="link" href="#query-3">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a | ceil()</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-3"><a class="anchor" href="#table-input-3"></a><a class="link" href="#table-input-3">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-3"><a class="anchor" href="#output-csv-3"></a><a class="link" href="#output-csv-3">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-2.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clamp"><a class="anchor" href="#clamp"></a><a class="link" href="#clamp">clamp</a></h3>
<div class="paragraph">
<p>Returns <code>value</code> clamped between the bounds <code>min</code> and <code>max</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-4"><a class="anchor" href="#parameters-4"></a><a class="link" href="#parameters-4">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: The value to be clamped.</p>
</li>
<li>
<p><code>min</code>: The minimum bound. If <code>null</code>, no minimum bound will be applied.</p>
</li>
<li>
<p><code>max</code>: The maximum bound. If <code>null</code>, no maximum bound will be applied.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Since <code>min</code> and <code>max</code> have default values, they must be passed by
name. The <code>value</code> is first so it is amenable to pipe. For example
<code>value | clamp(min = 3)</code> or <code>value | clamp(max = 8)</code>.</p>
</div>
<div class="paragraph">
<p>The arguments will be promoted to a compatible numeric type following
the docs:data-model#numeric-type-coercion-table[numeric type coercion
rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-4"><a class="anchor" href="#results-4"></a><a class="link" href="#results-4">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the promoted numeric type. For each row, it
contains <code>value</code> if <code>value</code> is between <code>min</code> and <code>max</code>, <code>min</code> if <code>value</code>
is less than <code>min</code>, <code>max</code> if <code>value</code> is greater than <code>max</code>, and <code>null</code>
if <code>value</code> is <code>null</code> or <code>min &gt; max</code>. If <code>min</code> or <code>max</code> are null than no
clamping on that side will be performed.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-clamp-with-min-and-max"><a class="anchor" href="#example-clamp-with-min-and-max"></a><a class="link" href="#example-clamp-with-min-and-max">Example: Clamp With Min and Max</a></h4>
<div class="paragraph">
<p>This example shows the use of <code>clamp</code> with both a <code>min</code> and <code>max</code> value
provided.</p>
</div>
<div class="sect4">
<h5 id="query-4"><a class="anchor" href="#query-4"></a><a class="link" href="#query-4">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a | clamp(min = 0.5, max = 9.5)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-4"><a class="anchor" href="#table-input-4"></a><a class="link" href="#table-input-4">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-4"><a class="anchor" href="#output-csv-4"></a><a class="link" href="#output-csv-4">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-clamp-with-min"><a class="anchor" href="#example-clamp-with-min"></a><a class="link" href="#example-clamp-with-min">Example: Clamp with Min</a></h4>
<div class="paragraph">
<p>This example shows the use of clamp with just a minimum bound.</p>
</div>
<div class="sect4">
<h5 id="query-5"><a class="anchor" href="#query-5"></a><a class="link" href="#query-5">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a | clamp(min = 0.5)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-5"><a class="anchor" href="#table-input-5"></a><a class="link" href="#table-input-5">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-5"><a class="anchor" href="#output-csv-5"></a><a class="link" href="#output-csv-5">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="coalesce"><a class="anchor" href="#coalesce"></a><a class="link" href="#coalesce">coalesce</a></h3>
<div class="paragraph">
<p>Return first non-<code>null</code> value or <code>null</code> if all values are <code>null</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-5"><a class="anchor" href="#parameters-5"></a><a class="link" href="#parameters-5">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>values: One or more values to be coalesced. Note that all of the
values must be promotable to the same type.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-5"><a class="anchor" href="#results-5"></a><a class="link" href="#results-5">Results</a></h4>
<div class="paragraph">
<p>For each row, return the first non-<code>null</code> value from that row. If all
values are <code>null</code>, then returns <code>null</code>.</p>
</div>
<div class="paragraph">
<p>The type of the result is the minimum type that all of the <code>values</code> were
docs:data-model#type-promotion-rules[promotable] to.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#logical-functions">logical</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example"><a class="anchor" href="#example"></a><a class="link" href="#example">Example</a></h4>
<div class="paragraph">
<p>In this example we use <code>coalesce</code> to apply multiple conditions, almost
like a <code>switch</code> statement. Each case uses <a href="#if"><code>if</code></a> to only pass
through the cases where the condition is met.</p>
</div>
<div class="paragraph">
<p>One thing to be aware of when using <code>coalesce</code> like this is that the
first non-<code>null</code> is taken. Which means that even if a condition is met,
if the corresponding value was <code>null</code>, it would move on to other
conditions.</p>
</div>
<div class="sect4">
<h5 id="query-6"><a class="anchor" href="#query-6"></a><a class="link" href="#query-6">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>coalesce(
    # Tax exempt items
    Input.value | if(Input.tax_category == 'exempt'),
    # Flat tax (1.0) items
    Input.value + 1.0 | if(Input.tax_category == 'flat'),
    # Normal tax (10%) items
    Input.value * 1.1
)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-6"><a class="anchor" href="#table-input-6"></a><a class="link" href="#table-input-6">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">tax_category</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2020-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10.00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">exempt</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2020-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12.00</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2020-01-02T01:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">flat</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2020-01-02T01:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">exempt</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-6"><a class="anchor" href="#output-csv-6"></a><a class="link" href="#output-csv-6">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">tax_category</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2020-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">exempt</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2020-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.200000000000001</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2020-01-02T01:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">flat</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">14.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2020-01-02T01:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">exempt</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="count"><a class="anchor" href="#count"></a><a class="link" href="#count">count</a></h3>
<div class="paragraph">
<p>Counts each new, non-<code>null</code> value in the input.</p>
</div>
<div class="sect3">
<h4 id="parameters-6"><a class="anchor" href="#parameters-6"></a><a class="link" href="#parameters-6">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to be counted.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-6"><a class="anchor" href="#results-6"></a><a class="link" href="#results-6">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the count of new, non-<code>null</code> rows in <code>input</code>
up to and including the input row for the given entity. Returns <code>0</code> if
there have been no such inputs.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-count"><a class="anchor" href="#example-count"></a><a class="link" href="#example-count">Example: Count</a></h4>
<div class="sect4">
<h5 id="query-7"><a class="anchor" href="#query-7"></a><a class="link" href="#query-7">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>count(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-7"><a class="anchor" href="#table-input-7"></a><a class="link" href="#table-input-7">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-7"><a class="anchor" href="#output-csv-7"></a><a class="link" href="#output-csv-7">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="count_if"><a class="anchor" href="#count_if"></a><a class="link" href="#count_if">count_if</a></h3>
<div class="paragraph">
<p>Counts each <code>true</code> value across in input.</p>
</div>
<div class="sect3">
<h4 id="parameters-7"><a class="anchor" href="#parameters-7"></a><a class="link" href="#parameters-7">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to be counted.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-7"><a class="anchor" href="#results-7"></a><a class="link" href="#results-7">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the count of new rows containing <code>true</code> in
<code>input</code> up to and including the input row for the given entity. Returns
<code>0</code> if there have been no such inputs.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-count-if"><a class="anchor" href="#example-count-if"></a><a class="link" href="#example-count-if">Example: Count If</a></h4>
<div class="sect4">
<h5 id="query-8"><a class="anchor" href="#query-8"></a><a class="link" href="#query-8">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>count_if(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-8"><a class="anchor" href="#table-input-8"></a><a class="link" href="#table-input-8">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-8"><a class="anchor" href="#output-csv-8"></a><a class="link" href="#output-csv-8">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="daily"><a class="anchor" href="#daily"></a><a class="link" href="#daily">daily</a></h3>
<div class="paragraph">
<p>A periodic function that produces a <code>true</code> value at the start of each
calendar day (UTC).</p>
</div>
<div class="paragraph">
<p>This function is often used in aggregations to produce windows or as a
predicate column.</p>
</div>
<div class="sect3">
<h4 id="results-8"><a class="anchor" href="#results-8"></a><a class="link" href="#results-8">Results</a></h4>
<div class="paragraph">
<p>Returns a boolean column with each row containing a <code>true</code> value at the
start of the day, corresponding to time 00:00:00Z, and <code>null</code> at all
other times.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#tick-functions">tick</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-daily-aggregated-window"><a class="anchor" href="#example-daily-aggregated-window"></a><a class="link" href="#example-daily-aggregated-window">Example: Daily Aggregated Window</a></h4>
<div class="paragraph">
<p>In this example, the <code>daily()</code> function is used as an argument to the
<a href="#since">`since</a> window function. The result is a windowed
aggregation that resets daily.</p>
</div>
<div class="sect4">
<h5 id="query-9"><a class="anchor" href="#query-9"></a><a class="link" href="#query-9">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>{ n: Input.n, daily_sum: sum(Input.n, window = since(daily())) }
| extend({time: time_of($input), key: first(Input.key) })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-9"><a class="anchor" href="#table-input-9"></a><a class="link" href="#table-input-9">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T04:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T05:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T01:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T22:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T03:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T07:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-9"><a class="anchor" href="#output-csv-9"></a><a class="link" href="#output-csv-9">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">daily_sum</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T04:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T05:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T01:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T22:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T03:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T07:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-filter-daily"><a class="anchor" href="#example-filter-daily"></a><a class="link" href="#example-filter-daily">Example: Filter Daily</a></h4>
<div class="paragraph">
<p>In this example, the <code>daily()</code> function is used as an argument to the
<a href="#when"><code>when</code></a> function, which filters input.</p>
</div>
<div class="paragraph">
<p>The output includes the last input row before a <a href="#tick"><code>tick</code></a>
occurs.</p>
</div>
<div class="sect4">
<h5 id="query-10"><a class="anchor" href="#query-10"></a><a class="link" href="#query-10">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | last() | when(daily())</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-10"><a class="anchor" href="#table-input-10"></a><a class="link" href="#table-input-10">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T04:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T05:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T01:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T22:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T03:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T07:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-10"><a class="anchor" href="#output-csv-10"></a><a class="link" href="#output-csv-10">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T04:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T05:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T22:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T05:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="day_of_month"><a class="anchor" href="#day_of_month"></a><a class="link" href="#day_of_month">day_of_month</a></h3>
<div class="paragraph">
<p>Return the day-of-month for the given time, starting with 1.</p>
</div>
<div class="sect3">
<h4 id="parameters-8"><a class="anchor" href="#parameters-8"></a><a class="link" href="#parameters-8">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>time: The timestamp to return the day-of-month for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-9"><a class="anchor" href="#results-9"></a><a class="link" href="#results-9">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>u32</code> column containing the day-of-month for each input
<code>time</code>. Returns <code>null</code> for rows where <code>time</code> is <code>null</code>. The first day of
the month is <code>1</code>. The result will be in the range 1 to 31 (inclusive).</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-day-of-month"><a class="anchor" href="#example-day-of-month"></a><a class="link" href="#example-day-of-month">Example: Day of Month</a></h4>
<div class="sect4">
<h5 id="query-11"><a class="anchor" href="#query-11"></a><a class="link" href="#query-11">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>day_of_month(Input.time)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-11"><a class="anchor" href="#table-input-11"></a><a class="link" href="#table-input-11">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-11"><a class="anchor" href="#output-csv-11"></a><a class="link" href="#output-csv-11">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">21</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">21</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">21</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">21</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">21</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">21</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="day_of_month0"><a class="anchor" href="#day_of_month0"></a><a class="link" href="#day_of_month0">day_of_month0</a></h3>
<div class="paragraph">
<p>Return the day-of-month for the given time, starting with 0.</p>
</div>
<div class="sect3">
<h4 id="parameters-9"><a class="anchor" href="#parameters-9"></a><a class="link" href="#parameters-9">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>time: The timestamp to return the day-of-month for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-10"><a class="anchor" href="#results-10"></a><a class="link" href="#results-10">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>u32</code> column containing the day-of-month for each input
<code>time</code>. Returns <code>null</code> for rows where <code>time</code> is <code>null</code>. The first day of
the month is <code>0</code>. The result will be in the range 0 to 30 (inclusive).</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-day-of-month-zero-based"><a class="anchor" href="#example-day-of-month-zero-based"></a><a class="link" href="#example-day-of-month-zero-based">Example: Day of Month (Zero Based)</a></h4>
<div class="sect4">
<h5 id="query-12"><a class="anchor" href="#query-12"></a><a class="link" href="#query-12">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>day_of_month0(Input.time)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-12"><a class="anchor" href="#table-input-12"></a><a class="link" href="#table-input-12">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-12"><a class="anchor" href="#output-csv-12"></a><a class="link" href="#output-csv-12">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="day_of_year"><a class="anchor" href="#day_of_year"></a><a class="link" href="#day_of_year">day_of_year</a></h3>
<div class="paragraph">
<p>Return the day-of-year for the given time, starting with 1.</p>
</div>
<div class="sect3">
<h4 id="parameters-10"><a class="anchor" href="#parameters-10"></a><a class="link" href="#parameters-10">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>time: The timestamp to return the day-of-year for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-11"><a class="anchor" href="#results-11"></a><a class="link" href="#results-11">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>u32</code> column containing the day-of-year for each input <code>time</code>.
Returns <code>null</code> for rows where <code>time</code> is <code>null</code>. The first day of the
month is <code>1</code>. The result will be in the range 1 to 366 (inclusive).</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-day-of-year"><a class="anchor" href="#example-day-of-year"></a><a class="link" href="#example-day-of-year">Example: Day Of Year</a></h4>
<div class="sect4">
<h5 id="query-13"><a class="anchor" href="#query-13"></a><a class="link" href="#query-13">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>day_of_year(Input.time)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-13"><a class="anchor" href="#table-input-13"></a><a class="link" href="#table-input-13">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-13"><a class="anchor" href="#output-csv-13"></a><a class="link" href="#output-csv-13">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">81</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">112</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">142</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">173</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">203</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">234</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="day_of_year0"><a class="anchor" href="#day_of_year0"></a><a class="link" href="#day_of_year0">day_of_year0</a></h3>
<div class="paragraph">
<p>Return the day-of-year for the given time, starting with 0.</p>
</div>
<div class="sect3">
<h4 id="parameters-11"><a class="anchor" href="#parameters-11"></a><a class="link" href="#parameters-11">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>time: The timestamp to return the day-of-year for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-12"><a class="anchor" href="#results-12"></a><a class="link" href="#results-12">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>u32</code> column containing the day-of-year for each input <code>time</code>.
Returns <code>null</code> for rows where <code>time</code> is <code>null</code>. The first day of the
year is <code>0</code>. The result will be in the range 0 to 365 (inclusive).</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-day-of-year-zero-based"><a class="anchor" href="#example-day-of-year-zero-based"></a><a class="link" href="#example-day-of-year-zero-based">Example: Day of Year (Zero Based)</a></h4>
<div class="sect4">
<h5 id="query-14"><a class="anchor" href="#query-14"></a><a class="link" href="#query-14">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>day_of_year0(Input.time)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-14"><a class="anchor" href="#table-input-14"></a><a class="link" href="#table-input-14">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-14"><a class="anchor" href="#output-csv-14"></a><a class="link" href="#output-csv-14">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">80</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">111</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">141</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">172</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">202</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">233</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="days"><a class="anchor" href="#days"></a><a class="link" href="#days">days</a></h3>
<div class="paragraph">
<p>Produces an interval corresponding to the given number of calendar days.</p>
</div>
<div class="sect3">
<h4 id="parameters-12"><a class="anchor" href="#parameters-12"></a><a class="link" href="#parameters-12">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>days: The number of days to create the interval for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-13"><a class="anchor" href="#results-13"></a><a class="link" href="#results-13">Results</a></h4>
<div class="paragraph">
<p>Returns an <code>interval_days</code> column with each row containing the value of
<code>days</code> converted to an interval with the corresponding number of days.
Rows where <code>days</code> is <code>null</code>, less than <code>0</code> or greater than <code>i32::MAX</code>
will be <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-adding-a-variable-number-of-days"><a class="anchor" href="#example-adding-a-variable-number-of-days"></a><a class="link" href="#example-adding-a-variable-number-of-days">Example: Adding a variable number of days</a></h4>
<div class="paragraph">
<p>This example uses <a href="#add-time"><code>add_time</code></a> to add the created interval
to the <code>time</code> column.</p>
</div>
<div class="sect4">
<h5 id="query-15"><a class="anchor" href="#query-15"></a><a class="link" href="#query-15">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.time | add_time(days(Input.n))</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-15"><a class="anchor" href="#table-input-15"></a><a class="link" href="#table-input-15">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-15"><a class="anchor" href="#output-csv-15"></a><a class="link" href="#output-csv-15">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-22T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-23T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-24T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-23T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-22T00:00:00.000000000</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="days_between"><a class="anchor" href="#days_between"></a><a class="link" href="#days_between">days_between</a></h3>
<div class="paragraph">
<p>Returns the number of days between the first and second timestamp.</p>
</div>
<div class="sect3">
<h4 id="parameters-13"><a class="anchor" href="#parameters-13"></a><a class="link" href="#parameters-13">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>t1: The first timestamp</p>
</li>
<li>
<p>t2: The second timestamp</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-14"><a class="anchor" href="#results-14"></a><a class="link" href="#results-14">Results</a></h4>
<div class="paragraph">
<p>Returns an <code>interval_days</code> column representing the number of whole days
between the two timestamps. Fractional days will be rounded towards
zero.</p>
</div>
<div class="paragraph">
<p>In rows where <code>t1</code> or <code>t2</code> are <code>null</code>, the result will be <code>null</code>. If
<code>t1</code> is before <code>t2</code>, the result will be positive. If <code>t1</code> is after <code>t2</code>
the result will be negative.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-days-between"><a class="anchor" href="#example-days-between"></a><a class="link" href="#example-days-between">Example: Days Between</a></h4>
<div class="paragraph">
<p>Note that the expression uses <code>as i32</code> to convert the <code>interval_days</code> to
the integer number of days. This discards the units.</p>
</div>
<div class="sect4">
<h5 id="query-16"><a class="anchor" href="#query-16"></a><a class="link" href="#query-16">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>days_between(Input.time, Input.date) as i32</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-16"><a class="anchor" href="#table-input-16"></a><a class="link" href="#table-input-16">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">date</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T00:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1995-07-20T00:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T23:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-22T00:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-19T05:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-22T00:00:00-00:00</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-16"><a class="anchor" href="#output-csv-16"></a><a class="link" href="#output-csv-16">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">date</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">151</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1995-07-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-276</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T23:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-19T05:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="div"><a class="anchor" href="#div"></a><a class="link" href="#div">div</a></h3>
<div class="paragraph">
<p>Returns the division of two numbers.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary operation <code>a / b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-14"><a class="anchor" href="#parameters-14"></a><a class="link" href="#parameters-14">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left-hand side of the division.</p>
</li>
<li>
<p>b: The right-hand side of the division.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> are promoted to a compatible numeric type
following the docs:data-model#numeric-type-coercion-table[numeric type
coercion rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-15"><a class="anchor" href="#results-15"></a><a class="link" href="#results-15">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the promoted numeric type compatible with
both <code>a</code> and <code>b</code>. The result contains <code>null</code> if <code>a</code> or <code>b</code> was null at
that row, or if <code>b</code> was <code>0</code>. Otherwise the row contains the resulting of
dividing <code>a</code> by <code>b</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-division"><a class="anchor" href="#example-division"></a><a class="link" href="#example-division">Example: Division</a></h4>
<div class="sect4">
<h5 id="query-17"><a class="anchor" href="#query-17"></a><a class="link" href="#query-17">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a / Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-17"><a class="anchor" href="#table-input-17"></a><a class="link" href="#table-input-17">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-17"><a class="anchor" href="#output-csv-17"></a><a class="link" href="#output-csv-17">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4.75</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15.749999999999998</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="else"><a class="anchor" href="#else"></a><a class="link" href="#else">else</a></h3>
<div class="paragraph">
<p>Return the <code>value</code> if it is non-<code>null</code>, <code>default</code> otherwise.</p>
</div>
<div class="sect3">
<h4 id="parameters-15"><a class="anchor" href="#parameters-15"></a><a class="link" href="#parameters-15">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>default: The result to use if <code>value</code> is <code>null</code>.</p>
</li>
<li>
<p>value: The result to prefer if it is non-<code>null</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note the order of arguments has <code>default</code> first, so that you can use it
with the pipe syntax to provide default values, as in
<code>value | else(default)</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-16"><a class="anchor" href="#results-16"></a><a class="link" href="#results-16">Results</a></h4>
<div class="paragraph">
<p>For each row, returns <code>value</code> if it is non-<code>null</code> in that row, or
<code>default</code> if <code>value is `null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#logical-functions">logical</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-choosing-between-two-values"><a class="anchor" href="#example-choosing-between-two-values"></a><a class="link" href="#example-choosing-between-two-values">Example: Choosing between two values</a></h4>
<div class="paragraph">
<p>In this example the result is <code>Input.a</code> if it is non-<code>null</code>, and
<code>Input.b</code> otherwise. This may be combined with <a href="#if"><code>if</code></a> to
conditionaly <code>null</code> out cases to implement various logical operations.</p>
</div>
<div class="paragraph">
<p>When chaining multiple conditionals, it may be better to use
<a href="#coalesce"><code>coalesce</code></a>.</p>
</div>
<div class="sect4">
<h5 id="query-18"><a class="anchor" href="#query-18"></a><a class="link" href="#query-18">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a | else(Input.b)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-18"><a class="anchor" href="#table-input-18"></a><a class="link" href="#table-input-18">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">63</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">86.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6873</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-18"><a class="anchor" href="#output-csv-18"></a><a class="link" href="#output-csv-18">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">63.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">86.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">86.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6873.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6873.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-providing-a-default-value"><a class="anchor" href="#example-providing-a-default-value"></a><a class="link" href="#example-providing-a-default-value">Example: Providing a default value</a></h4>
<div class="paragraph">
<p>This example shows how to use <code>else</code> to provide a default value for a
possibly <code>null</code> value.</p>
</div>
<div class="sect4">
<h5 id="query-19"><a class="anchor" href="#query-19"></a><a class="link" href="#query-19">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a | else(42.0)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-19"><a class="anchor" href="#table-input-19"></a><a class="link" href="#table-input-19">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">63</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">86.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6873</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-19"><a class="anchor" href="#output-csv-19"></a><a class="link" href="#output-csv-19">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">63.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">86.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">42.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6873.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6873.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">42.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="eq"><a class="anchor" href="#eq"></a><a class="link" href="#eq">eq</a></h3>
<div class="paragraph">
<p>Return <code>true</code> if <code>a</code> is equal to <code>b</code>.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary comparison <code>a == b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-16"><a class="anchor" href="#parameters-16"></a><a class="link" href="#parameters-16">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left hand side of the comparison.</p>
</li>
<li>
<p>b: The right hand side of the comparison.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> must be of the same type. If they differ, they
may be promoted to a compatible numeric type following the
docs:data-model#numeric-type-coercion-table[numeric type coercion
rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-17"><a class="anchor" href="#results-17"></a><a class="link" href="#results-17">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>bool</code> column indicating the results. For each row, it
contains <code>null</code> if <code>a</code> or <code>b</code> are <code>null</code>, <code>true</code> if they are equal and
<code>false</code> if they are not equal.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#comparison-functions">comparison</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-equals"><a class="anchor" href="#example-equals"></a><a class="link" href="#example-equals">Example: Equals</a></h4>
<div class="sect4">
<h5 id="query-20"><a class="anchor" href="#query-20"></a><a class="link" href="#query-20">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a == Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-20"><a class="anchor" href="#table-input-20"></a><a class="link" href="#table-input-20">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-20"><a class="anchor" href="#output-csv-20"></a><a class="link" href="#output-csv-20">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="exp"><a class="anchor" href="#exp"></a><a class="link" href="#exp">exp</a></h3>
<div class="paragraph">
<p>Returns <code>e^power</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-17"><a class="anchor" href="#parameters-17"></a><a class="link" href="#parameters-17">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>power: The power to raise <code>e</code> to.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The exponential function applies to <code>f64</code> numbers only. Other numbers
will be implicitly promoted.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-18"><a class="anchor" href="#results-18"></a><a class="link" href="#results-18">Results</a></h4>
<div class="paragraph">
<p>Returns a column of <code>f64</code> values. Each row contains <code>null</code> if <code>power</code> is
<code>null</code>. Otherwise, the row contains the value <code>e ^ power</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-exponential"><a class="anchor" href="#example-exponential"></a><a class="link" href="#example-exponential">Example: Exponential</a></h4>
<div class="sect4">
<h5 id="query-21"><a class="anchor" href="#query-21"></a><a class="link" href="#query-21">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>exp(Input.a)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-21"><a class="anchor" href="#table-input-21"></a><a class="link" href="#table-input-21">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-21"><a class="anchor" href="#output-csv-21"></a><a class="link" href="#output-csv-21">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">298.8674009670603</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">544.571910125929</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extend"><a class="anchor" href="#extend"></a><a class="link" href="#extend">extend</a></h3>
<div class="paragraph">
<p>Extends a record with fields from another.</p>
</div>
<div class="sect3">
<h4 id="parameters-18"><a class="anchor" href="#parameters-18"></a><a class="link" href="#parameters-18">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>new: The record column containing the new fields.</p>
</li>
<li>
<p>old: The record column containing the old fields.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: The order of parameters is chosen to allow <code>old | extend(new)</code> as
a way to add fields to the <code>old</code> record.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-19"><a class="anchor" href="#results-19"></a><a class="link" href="#results-19">Results</a></h4>
<div class="paragraph">
<p>Returns a column containing the combined record fields from both <code>old</code>
and <code>new</code>. If either <code>old</code> or <code>new</code> are <code>null</code> then the fields from the
given record are <code>null</code>. If a field exists in both <code>old</code> and <code>new</code>, the
value from <code>new</code> is preferred.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#record-functions">record</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-record-extension"><a class="anchor" href="#example-record-extension"></a><a class="link" href="#example-record-extension">Example: Record Extension</a></h4>
<div class="sect4">
<h5 id="query-22"><a class="anchor" href="#query-22"></a><a class="link" href="#query-22">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>extend(Input, { sum: Input.a + Input.b, five: 5 })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-22"><a class="anchor" href="#table-input-22"></a><a class="link" href="#table-input-22">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-22"><a class="anchor" href="#output-csv-22"></a><a class="link" href="#output-csv-22">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">sum</th>
<th class="tableblock halign-center valign-top">five</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="first"><a class="anchor" href="#first"></a><a class="link" href="#first">first</a></h3>
<div class="paragraph">
<p>Computes the first value present across the input.</p>
</div>
<div class="sect3">
<h4 id="parameters-19"><a class="anchor" href="#parameters-19"></a><a class="link" href="#parameters-19">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to be considered.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-20"><a class="anchor" href="#results-20"></a><a class="link" href="#results-20">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the first new, non-<code>null</code> value in the input,
up to and including the current row. Returns <code>null</code> until there has been
at least one such input.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The first value is inclusive of any values at the current time.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-first"><a class="anchor" href="#example-first"></a><a class="link" href="#example-first">Example: First</a></h4>
<div class="sect4">
<h5 id="query-23"><a class="anchor" href="#query-23"></a><a class="link" href="#query-23">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>first(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-23"><a class="anchor" href="#table-input-23"></a><a class="link" href="#table-input-23">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-23"><a class="anchor" href="#output-csv-23"></a><a class="link" href="#output-csv-23">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="floor"><a class="anchor" href="#floor"></a><a class="link" href="#floor">floor</a></h3>
<div class="paragraph">
<p>Rounds the number down to the next smallest integer.</p>
</div>
<div class="paragraph">
<p>See also <a href="#round"><code>round</code></a> and <a href="#ceil"><code>ceil</code></a>.</p>
</div>
<div class="sect3">
<h4 id="parameters-20"><a class="anchor" href="#parameters-20"></a><a class="link" href="#parameters-20">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>n: The number to round down.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: This method may be applied to any numeric type. For anything other
than <code>float32</code> and <code>float64</code> it has no affect since the values are
already integers.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-21"><a class="anchor" href="#results-21"></a><a class="link" href="#results-21">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the same type as <code>n</code>. The result contains
<code>null</code> if <code>n</code> was null at that row. Otherwise, it contains the result of
rounding <code>n</code> down to the next smallest integer.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-floor"><a class="anchor" href="#example-floor"></a><a class="link" href="#example-floor">Example: Floor</a></h4>
<div class="sect4">
<h5 id="query-24"><a class="anchor" href="#query-24"></a><a class="link" href="#query-24">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a | floor()</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-24"><a class="anchor" href="#table-input-24"></a><a class="link" href="#table-input-24">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-24"><a class="anchor" href="#output-csv-24"></a><a class="link" href="#output-csv-24">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-3.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gt"><a class="anchor" href="#gt"></a><a class="link" href="#gt">gt</a></h3>
<div class="paragraph">
<p>Return <code>true</code> if <code>a</code> is greater than <code>b</code>.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary comparison <code>a &gt; b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-21"><a class="anchor" href="#parameters-21"></a><a class="link" href="#parameters-21">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left hand side of the comparison.</p>
</li>
<li>
<p>b: The right hand side of the comparison.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> must be of the same type. If they differ, they
may be promoted to a compatible numeric type following the
docs:data-model#numeric-type-coercion-table[numeric type coercion
rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-22"><a class="anchor" href="#results-22"></a><a class="link" href="#results-22">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>bool</code> column indicating the results. For each row, it
contains <code>null</code> if <code>a</code> or <code>b</code> are <code>null</code>, <code>true</code> if <code>a</code> is greater than
<code>b</code>, and <code>false</code> if <code>a</code> is less than or equal to <code>b</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#comparison-functions">comparison</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-greater-than"><a class="anchor" href="#example-greater-than"></a><a class="link" href="#example-greater-than">Example: Greater Than</a></h4>
<div class="sect4">
<h5 id="query-25"><a class="anchor" href="#query-25"></a><a class="link" href="#query-25">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a &gt; Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-25"><a class="anchor" href="#table-input-25"></a><a class="link" href="#table-input-25">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-25"><a class="anchor" href="#output-csv-25"></a><a class="link" href="#output-csv-25">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gte"><a class="anchor" href="#gte"></a><a class="link" href="#gte">gte</a></h3>
<div class="paragraph">
<p>Return <code>true</code> if <code>a</code> is greater than or equal to <code>b</code>.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary comparison <code>a &gt;= b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-22"><a class="anchor" href="#parameters-22"></a><a class="link" href="#parameters-22">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left hand side of the comparison.</p>
</li>
<li>
<p>b: The right hand side of the comparison.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> must be of the same type. If they differ, they
may be promoted to a compatible numeric type following the
docs:data-model#numeric-type-coercion-table[numeric type coercion
rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-23"><a class="anchor" href="#results-23"></a><a class="link" href="#results-23">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>bool</code> column indicating the results. For each row, it
contains <code>null</code> if <code>a</code> or <code>b</code> are <code>null</code>, <code>true</code> if <code>a</code> is greater than
or equal to <code>b</code>, and <code>false</code> if <code>a</code> is less than <code>b</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#comparison-functions">comparison</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-greater-than-or-equal-to"><a class="anchor" href="#example-greater-than-or-equal-to"></a><a class="link" href="#example-greater-than-or-equal-to">Example: Greater Than or Equal To</a></h4>
<div class="sect4">
<h5 id="query-26"><a class="anchor" href="#query-26"></a><a class="link" href="#query-26">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a &gt;= Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-26"><a class="anchor" href="#table-input-26"></a><a class="link" href="#table-input-26">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-26"><a class="anchor" href="#output-csv-26"></a><a class="link" href="#output-csv-26">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="hash"><a class="anchor" href="#hash"></a><a class="link" href="#hash">hash</a></h3>
<div class="paragraph">
<p>Returns the hash of the <code>input</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-23"><a class="anchor" href="#parameters-23"></a><a class="link" href="#parameters-23">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The argument to hash.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-24"><a class="anchor" href="#results-24"></a><a class="link" href="#results-24">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>u64</code> column which contains the hash of the <code>input</code>.</p>
</div>
<div class="paragraph">
<p>Note: Unlike many functions which return <code>null</code> if any of their
arguments are <code>null</code>, <code>hash</code> will never return <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#misc-functions">misc</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-string-hash"><a class="anchor" href="#example-string-hash"></a><a class="link" href="#example-string-hash">Example: String Hash</a></h4>
<div class="sect4">
<h5 id="query-27"><a class="anchor" href="#query-27"></a><a class="link" href="#query-27">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>hash(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-27"><a class="anchor" href="#table-input-27"></a><a class="link" href="#table-input-27">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hello</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">world</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">earth</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-27"><a class="anchor" href="#output-csv-27"></a><a class="link" href="#output-csv-27">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hello</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15811883632611753650</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5927736130248593597</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">world</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10724100356298933117</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8732440231931982831</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5927736130248593597</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">earth</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2958664733073760318</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-integer-hash"><a class="anchor" href="#example-integer-hash"></a><a class="link" href="#example-integer-hash">Example: Integer Hash</a></h4>
<div class="sect4">
<h5 id="query-28"><a class="anchor" href="#query-28"></a><a class="link" href="#query-28">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>hash(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-28"><a class="anchor" href="#table-input-28"></a><a class="link" href="#table-input-28">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-28"><a class="anchor" href="#output-csv-28"></a><a class="link" href="#output-csv-28">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11871059458584583621</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4028879376188845851</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9468338612501459910</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4028879376188845851</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5791815708761125353</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9468338612501459910</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="hourly"><a class="anchor" href="#hourly"></a><a class="link" href="#hourly">hourly</a></h3>
<div class="paragraph">
<p>A periodic function that produces a <code>true</code> value at the start of each
hour.</p>
</div>
<div class="paragraph">
<p>This function is often used in aggregations to produce windows or as a
predicate column.</p>
</div>
<div class="sect3">
<h4 id="results-25"><a class="anchor" href="#results-25"></a><a class="link" href="#results-25">Results</a></h4>
<div class="paragraph">
<p>Returns a boolean column with each row containing a <code>true</code> value at the
start of the hour, and <code>null</code> at all other times.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#tick-functions">tick</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-hourly-aggregated-window"><a class="anchor" href="#example-hourly-aggregated-window"></a><a class="link" href="#example-hourly-aggregated-window">Example: Hourly Aggregated Window</a></h4>
<div class="paragraph">
<p>In this example, the <code>hourly()</code> function is used as an argument to the
<a href="#since">`since</a> function, which produces a window. The result is a
windowed aggregation that resets hourly.</p>
</div>
<div class="sect4">
<h5 id="query-29"><a class="anchor" href="#query-29"></a><a class="link" href="#query-29">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>{ n: Input.n, hourly_sum: sum(Input.n, window = since(hourly())) }
| extend({time: time_of($input), key: first(Input.key) })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-29"><a class="anchor" href="#table-input-29"></a><a class="link" href="#table-input-29">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:59-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-29"><a class="anchor" href="#output-csv-29"></a><a class="link" href="#output-csv-29">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">hourly_sum</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:59.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">16</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">16</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-filter-hourly"><a class="anchor" href="#example-filter-hourly"></a><a class="link" href="#example-filter-hourly">Example: Filter Hourly</a></h4>
<div class="paragraph">
<p>In this example, the <code>hourly()</code> function is used as an argument to the
<a href="#when"><code>when</code></a> function, which filters input.</p>
</div>
<div class="paragraph">
<p>The output includes the last input row before a <a href="#tick"><code>tick</code></a>
occurs.</p>
</div>
<div class="sect4">
<h5 id="query-30"><a class="anchor" href="#query-30"></a><a class="link" href="#query-30">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | last() | when(hourly())</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-30"><a class="anchor" href="#table-input-30"></a><a class="link" href="#table-input-30">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:59-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-30"><a class="anchor" href="#output-csv-30"></a><a class="link" href="#output-csv-30">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="if"><a class="anchor" href="#if"></a><a class="link" href="#if">if</a></h3>
<div class="paragraph">
<p>Return the <code>value</code> if <code>condition</code> is <code>true</code>, <code>null</code> otherwise.</p>
</div>
<div class="paragraph">
<p><code>if</code> "nulls out" the <code>value</code> if <code>condition</code> is <code>false</code>. It is equivalent
to <code>null_if(!condition, value)</code>.</p>
</div>
<div class="paragraph">
<p>See also <a href="#null_if"><code>null_if</code></a>.</p>
</div>
<div class="sect3">
<h4 id="parameters-24"><a class="anchor" href="#parameters-24"></a><a class="link" href="#parameters-24">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>condition: The condition which determines whether to return the
<code>value</code> or <code>null</code>.</p>
</li>
<li>
<p>value: The value to return if <code>condition</code> is <code>true</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: The order of arguments is chosen to allow use with the pipe
operation. Specifically, <code>value | if(condition)</code> may be used to
conditionally "null-out" the value on the left-hand side.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-26"><a class="anchor" href="#results-26"></a><a class="link" href="#results-26">Results</a></h4>
<div class="paragraph">
<p>For each row, return the <code>value</code> if <code>condition</code> is <code>true</code>. Returns
<code>null</code> if the <code>condition</code> is <code>false</code> or <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#logical-functions">logical</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-2"><a class="anchor" href="#example-2"></a><a class="link" href="#example-2">Example</a></h4>
<div class="sect4">
<h5 id="query-31"><a class="anchor" href="#query-31"></a><a class="link" href="#query-31">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.value | if(Input.condition)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-31"><a class="anchor" href="#table-input-31"></a><a class="link" href="#table-input-31">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">condition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">58.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">876</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">786.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-31"><a class="anchor" href="#output-csv-31"></a><a class="link" href="#output-csv-31">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">condition</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">58.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">58.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">876.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">786.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="is_valid"><a class="anchor" href="#is_valid"></a><a class="link" href="#is_valid">is_valid</a></h3>
<div class="paragraph">
<p>Returns <code>true</code> if <code>input</code> is non-<code>null</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-25"><a class="anchor" href="#parameters-25"></a><a class="link" href="#parameters-25">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to test for <code>null</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-27"><a class="anchor" href="#results-27"></a><a class="link" href="#results-27">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>bool</code> column that is <code>true</code> if the <code>input</code> is <code>null</code> and
<code>false</code> otherwise.</p>
</div>
<div class="paragraph">
<p>Note: Unlike many functions which return <code>null</code> if any of their
arguments are <code>null</code>, <code>is_valid</code> will never return <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#misc-functions">misc</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-is-valid"><a class="anchor" href="#example-is-valid"></a><a class="link" href="#example-is-valid">Example: Is Valid</a></h4>
<div class="sect4">
<h5 id="query-32"><a class="anchor" href="#query-32"></a><a class="link" href="#query-32">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>is_valid(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-32"><a class="anchor" href="#table-input-32"></a><a class="link" href="#table-input-32">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-32"><a class="anchor" href="#output-csv-32"></a><a class="link" href="#output-csv-32">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="json"><a class="anchor" href="#json"></a><a class="link" href="#json">json</a></h3>
<div class="paragraph">
<p>Creates a JSON object from a string.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p> Warning <code>json</code> is experimental functionality. You should expect the
behavior to potentially change in the future. Certain functionality,
such as nested types, are not yet supported.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>This functions converts a JSON string into a JSON object. Fields of the
JSON object can be accessed as strings and cast into other types.</p>
</div>
<div class="sect3">
<h4 id="parameters-26"><a class="anchor" href="#parameters-26"></a><a class="link" href="#parameters-26">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>s: The JSON-formatted string.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-28"><a class="anchor" href="#results-28"></a><a class="link" href="#results-28">Results</a></h4>
<div class="paragraph">
<p>Returns a JSON object.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#string-functions">string</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-json-field-access"><a class="anchor" href="#example-json-field-access"></a><a class="link" href="#example-json-field-access">Example: JSON field access</a></h4>
<div class="sect4">
<h5 id="query-33"><a class="anchor" href="#query-33"></a><a class="link" href="#query-33">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>json(Input.json_string).a</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-33"><a class="anchor" href="#table-input-33"></a><a class="link" href="#table-input-33">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">json_string</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 10}</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 2}</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"b": 10}</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 4}</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"c": 12}</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 0}</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 8}</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-33"><a class="anchor" href="#output-csv-33"></a><a class="link" href="#output-csv-33">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">json_string</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 10}</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 2}</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"b": 10}</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 4}</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"c": 12}</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 0}</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\{"a": 8}</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lag"><a class="anchor" href="#lag"></a><a class="link" href="#lag">lag</a></h3>
<div class="paragraph">
<p>Returns a lagging value of <code>e</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-27"><a class="anchor" href="#parameters-27"></a><a class="link" href="#parameters-27">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>n: The amount of lag to retrieve. For instance, <code>n = 1</code> is the
previous non-<code>null</code> value, <code>n = 2</code> is the non-<code>null</code> value before that,
etc.</p>
</li>
<li>
<p>input: The value to retrieve.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-29"><a class="anchor" href="#results-29"></a><a class="link" href="#results-29">Results</a></h4>
<div class="paragraph">
<p>Returns a new column with the same type as <code>input</code>, but with each row
containing the value of <code>input</code> from <code>n</code> rows earlier (counting only
non-<code>null</code> rows for the current entity).</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-lag-for-previous-value"><a class="anchor" href="#example-lag-for-previous-value"></a><a class="link" href="#example-lag-for-previous-value">Example: Lag for Previous Value</a></h4>
<div class="sect4">
<h5 id="query-34"><a class="anchor" href="#query-34"></a><a class="link" href="#query-34">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>lag(1, Input.n)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-34"><a class="anchor" href="#table-input-34"></a><a class="link" href="#table-input-34">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-34"><a class="anchor" href="#output-csv-34"></a><a class="link" href="#output-csv-34">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-lag-for-average-change"><a class="anchor" href="#example-lag-for-average-change"></a><a class="link" href="#example-lag-for-average-change">Example: Lag for Average Change</a></h4>
<div class="paragraph">
<p>This example uses <code>lag</code> to compute the average difference between values
of <code>n</code>.</p>
</div>
<div class="sect4">
<h5 id="query-35"><a class="anchor" href="#query-35"></a><a class="link" href="#query-35">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre># Will always be non-`null` after the first non-`null` `Input.n`.
let prev_value = Input.n | lag(1)

# Will be `null` if current `Input.n` is `null`.
let difference = Input.n - prev_value
in
{
  difference,
  mean_difference: mean(difference),
} | extend({ time: time_of($input), key: first(Input.key) })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-35"><a class="anchor" href="#table-input-35"></a><a class="link" href="#table-input-35">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-35"><a class="anchor" href="#output-csv-35"></a><a class="link" href="#output-csv-35">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">difference</th>
<th class="tableblock halign-center valign-top">mean_difference</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.5</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="last"><a class="anchor" href="#last"></a><a class="link" href="#last">last</a></h3>
<div class="paragraph">
<p>Computes the last value present across the input.</p>
</div>
<div class="sect3">
<h4 id="parameters-28"><a class="anchor" href="#parameters-28"></a><a class="link" href="#parameters-28">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to be considered.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-30"><a class="anchor" href="#results-30"></a><a class="link" href="#results-30">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the last new, non-<code>null</code> value in the input,
up to and including the current row. Returns <code>null</code> until there has been
at least one such input.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The last value is inclusive of any values at the current time.
This means that if the current row is new and non-<code>null</code>, the result
will be the same of the input. If the input is not new or <code>null</code>, this
will be the previous value that was new and non-<code>null</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-last"><a class="anchor" href="#example-last"></a><a class="link" href="#example-last">Example: Last</a></h4>
<div class="paragraph">
<p>As shown in the example, the last aggregation is useful for
extrapolating missing results from the most recent present result.</p>
</div>
<div class="sect4">
<h5 id="query-36"><a class="anchor" href="#query-36"></a><a class="link" href="#query-36">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>last(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-36"><a class="anchor" href="#table-input-36"></a><a class="link" href="#table-input-36">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-36"><a class="anchor" href="#output-csv-36"></a><a class="link" href="#output-csv-36">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="len"><a class="anchor" href="#len"></a><a class="link" href="#len">len</a></h3>
<div class="paragraph">
<p>Returns the length of the string <code>s</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-29"><a class="anchor" href="#parameters-29"></a><a class="link" href="#parameters-29">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>s: The string to compute the length of.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-31"><a class="anchor" href="#results-31"></a><a class="link" href="#results-31">Results</a></h4>
<div class="paragraph">
<p>Returns an <code>i32</code> column with each row containing the length of the
string <code>s</code> in that row. Returns <code>0</code> for the empty string and <code>null</code> if
<code>s</code> is <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#string-functions">string</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-string-length"><a class="anchor" href="#example-string-length"></a><a class="link" href="#example-string-length">Example: String Length</a></h4>
<div class="sect4">
<h5 id="query-37"><a class="anchor" href="#query-37"></a><a class="link" href="#query-37">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.value | len()</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-37"><a class="anchor" href="#table-input-37"></a><a class="link" href="#table-input-37">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">''</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">''</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-37"><a class="anchor" href="#output-csv-37"></a><a class="link" href="#output-csv-37">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">''</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">''</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logical_and"><a class="anchor" href="#logical_and"></a><a class="link" href="#logical_and">logical_and</a></h3>
<div class="paragraph">
<p>Returns the logical conjunction (AND) of two booleans.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary operation <code>a and b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-30"><a class="anchor" href="#parameters-30"></a><a class="link" href="#parameters-30">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left-hand side of the conjunction.</p>
</li>
<li>
<p>b: The right-hand side of the conjunction.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-32"><a class="anchor" href="#results-32"></a><a class="link" href="#results-32">Results</a></h4>
<div class="ulist">
<ul>
<li>
<p>Returns <code>true</code> if <code>a</code> and <code>b</code> are both <code>true</code>.</p>
</li>
<li>
<p>Returns <code>false</code> if <code>a</code> or <code>b</code> are <code>false</code>.</p>
</li>
<li>
<p>Returns <code>null</code> if <code>a</code> or <code>b</code> are <code>null</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#logical-functions">logical</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-logical-and"><a class="anchor" href="#example-logical-and"></a><a class="link" href="#example-logical-and">Example: Logical And</a></h4>
<div class="sect4">
<h5 id="query-38"><a class="anchor" href="#query-38"></a><a class="link" href="#query-38">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a and Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-38"><a class="anchor" href="#table-input-38"></a><a class="link" href="#table-input-38">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-38"><a class="anchor" href="#output-csv-38"></a><a class="link" href="#output-csv-38">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logical_or"><a class="anchor" href="#logical_or"></a><a class="link" href="#logical_or">logical_or</a></h3>
<div class="paragraph">
<p>Returns the logical disjunction (OR) of two booleans.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary operation <code>a or b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-31"><a class="anchor" href="#parameters-31"></a><a class="link" href="#parameters-31">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left-hand side of the disjunction.</p>
</li>
<li>
<p>b: The right-hand side of the disjunction.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-33"><a class="anchor" href="#results-33"></a><a class="link" href="#results-33">Results</a></h4>
<div class="ulist">
<ul>
<li>
<p>Returns <code>true</code> if <code>a</code> or <code>b</code> are <code>true</code>.</p>
</li>
<li>
<p>Returns <code>false</code> if <code>a</code> and <code>b</code> are both <code>false</code>.</p>
</li>
<li>
<p>Returns <code>null</code> if <code>a</code> or <code>b</code> are <code>null</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#logical-functions">logical</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-logical-or"><a class="anchor" href="#example-logical-or"></a><a class="link" href="#example-logical-or">Example: Logical Or</a></h4>
<div class="sect4">
<h5 id="query-39"><a class="anchor" href="#query-39"></a><a class="link" href="#query-39">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a or Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-39"><a class="anchor" href="#table-input-39"></a><a class="link" href="#table-input-39">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">subsort</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-39"><a class="anchor" href="#output-csv-39"></a><a class="link" href="#output-csv-39">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">subsort</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lookup"><a class="anchor" href="#lookup"></a><a class="link" href="#lookup">lookup</a></h3>
<div class="paragraph">
<p>Looks up the value for a foreign key.</p>
</div>
<div class="paragraph">
<p>Performs a lookup join between the <code>key</code> and the computed <code>value</code> from a
foreign entity.</p>
</div>
<div class="sect3">
<h4 id="parameters-32"><a class="anchor" href="#parameters-32"></a><a class="link" href="#parameters-32">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>key: Expression which computes the foreign key to lookup. This must
match the type of the keys in the foreign grouping.</p>
</li>
<li>
<p>value: Foreign expression computing the value to lookup. The <code>value</code>
argument should normally be a continuous value (result of an
aggregation). This ensures there will be an available value at the time
of the lookup.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-34"><a class="anchor" href="#results-34"></a><a class="link" href="#results-34">Results</a></h4>
<div class="paragraph">
<p>For each row with a non-<code>null</code> key, returns the value at that time from
the <code>value</code> computed for the entity identified by the <code>key</code>. Yields
<code>null</code> if the <code>key</code> is <code>null</code> or if there is no foreign value computed
for that key at the corresponding time.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#grouping-functions">grouping</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-lookup"><a class="anchor" href="#example-lookup"></a><a class="link" href="#example-lookup">Example: Lookup</a></h4>
<div class="paragraph">
<p>This example operates on customer reviews. It augments each review with
the average rating the customer has given and the average rating the
product has received, up to that point in time.</p>
</div>
<div class="sect4">
<h5 id="query-40"><a class="anchor" href="#query-40"></a><a class="link" href="#query-40">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre># This is the average review a product has received (keyed by products)
let average_review_by_product = ProductReviewsByProduct.stars | mean()

# This is the average review a customer has given (keyed by customer ID)
let product_id_by_customer = ProductReviewsByCustomer.product_id
let average_customer_review = ProductReviewsByCustomer.stars | mean()

# Lookup the average product review for the current purchase.
let average_product_review =
  lookup(product_id_by_customer, average_review_by_product)
in

{
    key: product_id_by_customer,
    average_customer_review,
    average_product_review,
} | extend({ time: time_of($input)} )</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-productreviewsbyproduct"><a class="anchor" href="#table-productreviewsbyproduct"></a><a class="link" href="#table-productreviewsbyproduct">Table: ProductReviewsByProduct</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>ProductReviewsByProduct</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>product_id</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>products</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">customer_id</th>
<th class="tableblock halign-center valign-top">product_id</th>
<th class="tableblock halign-center valign-top">stars</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Patrick</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">krabby_patty</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Patrick</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">coral_bits</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Squidward</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">krabby_patty</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Patrick</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">krabby_patty</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="table-productreviewsbycustomer"><a class="anchor" href="#table-productreviewsbycustomer"></a><a class="link" href="#table-productreviewsbycustomer">Table: ProductReviewsByCustomer</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>ProductReviewsByCustomer</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>customer_id</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>customers</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">customer_id</th>
<th class="tableblock halign-center valign-top">product_id</th>
<th class="tableblock halign-center valign-top">stars</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Patrick</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">krabby_patty</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Patrick</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">coral_bits</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Squidward</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">krabby_patty</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Patrick</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">krabby_patty</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-40"><a class="anchor" href="#output-csv-40"></a><a class="link" href="#output-csv-40">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">average_customer_review</th>
<th class="tableblock halign-center valign-top">average_product_review</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">krabby_patty</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">coral_bits</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">krabby_patty</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">krabby_patty</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.6666666666666665</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lower"><a class="anchor" href="#lower"></a><a class="link" href="#lower">lower</a></h3>
<div class="paragraph">
<p>Converts the string to lower case.</p>
</div>
<div class="sect3">
<h4 id="parameters-33"><a class="anchor" href="#parameters-33"></a><a class="link" href="#parameters-33">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>s: The string to convert to lower case.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-35"><a class="anchor" href="#results-35"></a><a class="link" href="#results-35">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>string</code> column with each row containing the string <code>s</code> from
that row converted to all lower case. The row contains <code>null</code> if <code>s</code> is
<code>null</code> in that row.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#string-functions">string</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-lower-case"><a class="anchor" href="#example-lower-case"></a><a class="link" href="#example-lower-case">Example: Lower Case</a></h4>
<div class="sect4">
<h5 id="query-41"><a class="anchor" href="#query-41"></a><a class="link" href="#query-41">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.value | lower()</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-40"><a class="anchor" href="#table-input-40"></a><a class="link" href="#table-input-40">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-41"><a class="anchor" href="#output-csv-41"></a><a class="link" href="#output-csv-41">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hello world</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi earth</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hello</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lt"><a class="anchor" href="#lt"></a><a class="link" href="#lt">lt</a></h3>
<div class="paragraph">
<p>Return <code>true</code> if <code>a</code> is less than <code>b</code>.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary comparison <code>a &lt; b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-34"><a class="anchor" href="#parameters-34"></a><a class="link" href="#parameters-34">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left hand side of the comparison.</p>
</li>
<li>
<p>b: The right hand side of the comparison.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> must be of the same type. If they differ, they
may be promoted to a compatible numeric type following the
docs:data-model#numeric-type-coercion-table[numeric type coercion
rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-36"><a class="anchor" href="#results-36"></a><a class="link" href="#results-36">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>bool</code> column indicating the results. For each row, it
contains <code>null</code> if <code>a</code> or <code>b</code> are <code>null</code>, <code>true</code> if <code>a</code> is less than <code>b</code>
and <code>false</code> if <code>a</code> is greater than or equal to <code>b</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#comparison-functions">comparison</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-less-than"><a class="anchor" href="#example-less-than"></a><a class="link" href="#example-less-than">Example: Less Than</a></h4>
<div class="sect4">
<h5 id="query-42"><a class="anchor" href="#query-42"></a><a class="link" href="#query-42">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a &lt; Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-41"><a class="anchor" href="#table-input-41"></a><a class="link" href="#table-input-41">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-42"><a class="anchor" href="#output-csv-42"></a><a class="link" href="#output-csv-42">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lte"><a class="anchor" href="#lte"></a><a class="link" href="#lte">lte</a></h3>
<div class="paragraph">
<p>Return <code>true</code> if <code>a</code> is less than or equal to <code>b</code>.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary comparison <code>a &#8656; b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-35"><a class="anchor" href="#parameters-35"></a><a class="link" href="#parameters-35">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left hand side of the comparison.</p>
</li>
<li>
<p>b: The right hand side of comparison.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> must be of the same type. If they differ, they
may be promoted to a compatible numeric type following the
docs:data-model#numeric-type-coercion-table[numeric type coercion
rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-37"><a class="anchor" href="#results-37"></a><a class="link" href="#results-37">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>bool</code> column indicating the results. For each row, it
contains <code>null</code> if <code>a</code> or <code>b</code> are <code>null</code>, <code>true</code> if <code>a</code> is less than or
equal to <code>b</code>, and <code>false</code> if <code>a</code> is greater than <code>b</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#comparison-functions">comparison</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-less-than-or-equal-to"><a class="anchor" href="#example-less-than-or-equal-to"></a><a class="link" href="#example-less-than-or-equal-to">Example: Less Than or Equal To</a></h4>
<div class="sect4">
<h5 id="query-43"><a class="anchor" href="#query-43"></a><a class="link" href="#query-43">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a &lt;= Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-42"><a class="anchor" href="#table-input-42"></a><a class="link" href="#table-input-42">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-43"><a class="anchor" href="#output-csv-43"></a><a class="link" href="#output-csv-43">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="max"><a class="anchor" href="#max"></a><a class="link" href="#max">max</a></h3>
<div class="paragraph">
<p>Computes the maximum of values across the input.</p>
</div>
<div class="paragraph">
<p>This is an aggregation that computes the maximum across multiple rows.
See <a href="#zip-max"><code>zip_max</code></a> to take the maximum of two values from each
row.</p>
</div>
<div class="sect3">
<h4 id="parameters-36"><a class="anchor" href="#parameters-36"></a><a class="link" href="#parameters-36">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to compute the maximum of.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-38"><a class="anchor" href="#results-38"></a><a class="link" href="#results-38">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the maximum of new, non-<code>null</code> rows in
<code>input</code> up to and including the input row for the given entity. Returns
<code>null</code> until there has been at least one such input.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a>
<a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-maximum"><a class="anchor" href="#example-maximum"></a><a class="link" href="#example-maximum">Example: Maximum</a></h4>
<div class="sect4">
<h5 id="query-44"><a class="anchor" href="#query-44"></a><a class="link" href="#query-44">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>max(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-43"><a class="anchor" href="#table-input-43"></a><a class="link" href="#table-input-43">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-44"><a class="anchor" href="#output-csv-44"></a><a class="link" href="#output-csv-44">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mean"><a class="anchor" href="#mean"></a><a class="link" href="#mean">mean</a></h3>
<div class="paragraph">
<p>Computes the arithmetic mean of values across the input.</p>
</div>
<div class="sect3">
<h4 id="parameters-37"><a class="anchor" href="#parameters-37"></a><a class="link" href="#parameters-37">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to compute the mean of.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-39"><a class="anchor" href="#results-39"></a><a class="link" href="#results-39">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the mean of new, non-<code>null</code> rows in <code>input</code>
up to and including the input row for the given entity. Returns <code>null</code>
until there has been at least one such input.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a>
<a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-mean"><a class="anchor" href="#example-mean"></a><a class="link" href="#example-mean">Example: Mean</a></h4>
<div class="sect4">
<h5 id="query-45"><a class="anchor" href="#query-45"></a><a class="link" href="#query-45">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>mean(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-44"><a class="anchor" href="#table-input-44"></a><a class="link" href="#table-input-44">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-45"><a class="anchor" href="#output-csv-45"></a><a class="link" href="#output-csv-45">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">25.950000000000003</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">25.950000000000003</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">34.75</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="min"><a class="anchor" href="#min"></a><a class="link" href="#min">min</a></h3>
<div class="paragraph">
<p>Computes the minimum of values across the input.</p>
</div>
<div class="paragraph">
<p>This is an aggregation that computes the minimum across multiple rows.
See <a href="#zip-min"><code>zip_min</code></a> to take the minimum of two values from each
row.</p>
</div>
<div class="sect3">
<h4 id="parameters-38"><a class="anchor" href="#parameters-38"></a><a class="link" href="#parameters-38">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to compute the minimum of.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-40"><a class="anchor" href="#results-40"></a><a class="link" href="#results-40">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the minimum of new, non-<code>null</code> rows in
<code>input</code> up to and including the input row for the given entity. Returns
<code>null</code> until there has been at least one such input.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a>
<a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-minimum"><a class="anchor" href="#example-minimum"></a><a class="link" href="#example-minimum">Example: Minimum</a></h4>
<div class="sect4">
<h5 id="query-46"><a class="anchor" href="#query-46"></a><a class="link" href="#query-46">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>min(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-45"><a class="anchor" href="#table-input-45"></a><a class="link" href="#table-input-45">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-46"><a class="anchor" href="#output-csv-46"></a><a class="link" href="#output-csv-46">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="minutely"><a class="anchor" href="#minutely"></a><a class="link" href="#minutely">minutely</a></h3>
<div class="paragraph">
<p>A periodic function that produces a <code>true</code> value at the start of each
minutely.</p>
</div>
<div class="paragraph">
<p>This function is often used in aggregations to produce windows or as a
predicate column.</p>
</div>
<div class="sect3">
<h4 id="results-41"><a class="anchor" href="#results-41"></a><a class="link" href="#results-41">Results</a></h4>
<div class="paragraph">
<p>Returns a boolean column with each row containing a <code>true</code> value at the
start of each minute, and <code>null</code> at all other times.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#tick-functions">tick</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-minutely-aggregated-window"><a class="anchor" href="#example-minutely-aggregated-window"></a><a class="link" href="#example-minutely-aggregated-window">Example: Minutely Aggregated Window</a></h4>
<div class="paragraph">
<p>In this example, the <code>minutely()</code> function is used as an argument to the
<a href="#since">`since</a> function, which produces a window. The result is a
windowed aggregation that resets minutely.</p>
</div>
<div class="sect4">
<h5 id="query-47"><a class="anchor" href="#query-47"></a><a class="link" href="#query-47">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>{ n: Input.n, hourly_sum: sum(Input.n, window = since(minutely())) }
| extend({time: time_of($input), key: first(Input.key) })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-46"><a class="anchor" href="#table-input-46"></a><a class="link" href="#table-input-46">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:01:59-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:03:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-47"><a class="anchor" href="#output-csv-47"></a><a class="link" href="#output-csv-47">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">hourly_sum</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:01:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:01:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:01:59.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:03:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:03:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:03:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-filter-minutely"><a class="anchor" href="#example-filter-minutely"></a><a class="link" href="#example-filter-minutely">Example: Filter Minutely</a></h4>
<div class="paragraph">
<p>In this example, the <code>minutely()</code> function is used as an argument to the
<a href="#when"><code>when</code></a> function, which filters input.</p>
</div>
<div class="paragraph">
<p>The output includes the last input row before a <a href="#tick"><code>tick</code></a>
occurs.</p>
</div>
<div class="sect4">
<h5 id="query-48"><a class="anchor" href="#query-48"></a><a class="link" href="#query-48">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | last() | when(minutely())</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-47"><a class="anchor" href="#table-input-47"></a><a class="link" href="#table-input-47">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:01:59-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:03:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-48"><a class="anchor" href="#output-csv-48"></a><a class="link" href="#output-csv-48">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:03:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:02:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="month_of_year"><a class="anchor" href="#month_of_year"></a><a class="link" href="#month_of_year">month_of_year</a></h3>
<div class="paragraph">
<p>Return the month-of-year for the given time, starting with 1.</p>
</div>
<div class="sect3">
<h4 id="parameters-39"><a class="anchor" href="#parameters-39"></a><a class="link" href="#parameters-39">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>time: The timestamp to return the month-of-year for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-42"><a class="anchor" href="#results-42"></a><a class="link" href="#results-42">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>u32</code> column containing the month-of-year for each input
<code>time</code>. Returns <code>null</code> for rows where <code>time</code> is <code>null</code>. January is <code>1</code>.
The result will be in the range 1 to 12 (inclusive).</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-month-of-year"><a class="anchor" href="#example-month-of-year"></a><a class="link" href="#example-month-of-year">Example: Month of Year</a></h4>
<div class="sect4">
<h5 id="query-49"><a class="anchor" href="#query-49"></a><a class="link" href="#query-49">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>month_of_year(Input.time)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-48"><a class="anchor" href="#table-input-48"></a><a class="link" href="#table-input-48">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-49"><a class="anchor" href="#output-csv-49"></a><a class="link" href="#output-csv-49">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="month_of_year0"><a class="anchor" href="#month_of_year0"></a><a class="link" href="#month_of_year0">month_of_year0</a></h3>
<div class="paragraph">
<p>Return the month-of-year for the given time, starting with 0.</p>
</div>
<div class="sect3">
<h4 id="parameters-40"><a class="anchor" href="#parameters-40"></a><a class="link" href="#parameters-40">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>time: The timestamp to return the day-of-month for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-43"><a class="anchor" href="#results-43"></a><a class="link" href="#results-43">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>u32</code> column containing the month-of-year for each input
<code>time</code>. Returns <code>null</code> for rows where <code>time</code> is <code>null</code>. January is <code>1</code>.
The result will be in the range 0 to 11 (inclusive).</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-month-of-year-zero-based"><a class="anchor" href="#example-month-of-year-zero-based"></a><a class="link" href="#example-month-of-year-zero-based">Example: Month of Year (Zero Based)</a></h4>
<div class="sect4">
<h5 id="query-50"><a class="anchor" href="#query-50"></a><a class="link" href="#query-50">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>month_of_year0(Input.time)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-49"><a class="anchor" href="#table-input-49"></a><a class="link" href="#table-input-49">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-50"><a class="anchor" href="#output-csv-50"></a><a class="link" href="#output-csv-50">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="monthly"><a class="anchor" href="#monthly"></a><a class="link" href="#monthly">monthly</a></h3>
<div class="paragraph">
<p>A periodic function that produces a <code>true</code> value at the start of each
calendar month (UTC).</p>
</div>
<div class="paragraph">
<p>This function is often used in aggregations to produce windows or as a
predicate column.</p>
</div>
<div class="sect3">
<h4 id="results-44"><a class="anchor" href="#results-44"></a><a class="link" href="#results-44">Results</a></h4>
<div class="paragraph">
<p>Returns a boolean column with each row containing a <code>true</code> value at the
start of each calendar month, and <code>null</code> at all other times.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#tick-functions">tick</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-monthly-aggregated-window"><a class="anchor" href="#example-monthly-aggregated-window"></a><a class="link" href="#example-monthly-aggregated-window">Example: Monthly Aggregated Window</a></h4>
<div class="paragraph">
<p>In this example, the <code>monthly()</code> function is used as an argument to the
<a href="#since">`since</a> function, which produces a window. The result is a
windowed aggregation that resets at the start of each calendar month.</p>
</div>
<div class="sect4">
<h5 id="query-51"><a class="anchor" href="#query-51"></a><a class="link" href="#query-51">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>{ n: Input.n, monthly_sum: sum(Input.n, window = since(monthly())) }
| extend({time: time_of($input), key: first(Input.key) })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-50"><a class="anchor" href="#table-input-50"></a><a class="link" href="#table-input-50">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-20T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-20T16:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-51"><a class="anchor" href="#output-csv-51"></a><a class="link" href="#output-csv-51">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">monthly_sum</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-20T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-20T16:01:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-filter-monthly"><a class="anchor" href="#example-filter-monthly"></a><a class="link" href="#example-filter-monthly">Example: Filter Monthly</a></h4>
<div class="paragraph">
<p>In this example, the <code>monthly()</code> function is used as an argument to the
<a href="#when"><code>when</code></a> function, which filters input.</p>
</div>
<div class="paragraph">
<p>The output includes the last input row before a <a href="#tick"><code>tick</code></a>
occurs.</p>
</div>
<div class="sect4">
<h5 id="query-52"><a class="anchor" href="#query-52"></a><a class="link" href="#query-52">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | last() | when(monthly())</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-51"><a class="anchor" href="#table-input-51"></a><a class="link" href="#table-input-51">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-20T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-20T16:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-52"><a class="anchor" href="#output-csv-52"></a><a class="link" href="#output-csv-52">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-02-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-20T16:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="months"><a class="anchor" href="#months"></a><a class="link" href="#months">months</a></h3>
<div class="paragraph">
<p>Produces an interval corresponding to the given number of calendar
months.</p>
</div>
<div class="sect3">
<h4 id="parameters-41"><a class="anchor" href="#parameters-41"></a><a class="link" href="#parameters-41">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>months: The number of calendar months to create the interval for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-45"><a class="anchor" href="#results-45"></a><a class="link" href="#results-45">Results</a></h4>
<div class="paragraph">
<p>Returns an <code>interval_months</code> column with each row containing the value
of <code>months</code> converted to an interval with the corresponding number of
calendar months. Rows where <code>months</code> is <code>null</code>, less than <code>i32::MIN</code> or
greater than <code>i32::MAX</code> will be <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-3"><a class="anchor" href="#example-3"></a><a class="link" href="#example-3">Example</a></h4>
<div class="paragraph">
<p>This example uses <a href="#add-time"><code>add_time</code></a> to add the created interval
to the <code>time</code> column.</p>
</div>
<div class="sect4">
<h5 id="query-53"><a class="anchor" href="#query-53"></a><a class="link" href="#query-53">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.time | add_time(months(Input.n))</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-52"><a class="anchor" href="#table-input-52"></a><a class="link" href="#table-input-52">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-53"><a class="anchor" href="#output-csv-53"></a><a class="link" href="#output-csv-53">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-09-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-09-21T00:00:00.000000000</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="months_between"><a class="anchor" href="#months_between"></a><a class="link" href="#months_between">months_between</a></h3>
<div class="paragraph">
<p>Returns the number of months between the first and second timestamp.</p>
</div>
<div class="sect3">
<h4 id="parameters-42"><a class="anchor" href="#parameters-42"></a><a class="link" href="#parameters-42">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>t1: The first timestamp</p>
</li>
<li>
<p>t2: The second timestamp</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-46"><a class="anchor" href="#results-46"></a><a class="link" href="#results-46">Results</a></h4>
<div class="paragraph">
<p>Returns an <code>interval_months</code> column representing the number of calendar
months between the two timestamps.</p>
</div>
<div class="paragraph">
<p>In rows where <code>t1</code> or <code>t2</code> are <code>null</code>, the result will be <code>null</code>. If
<code>t1</code> is before <code>t2</code>, the result will be positive. If <code>t1</code> is after <code>t2</code>
the result will be negative.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-months-between"><a class="anchor" href="#example-months-between"></a><a class="link" href="#example-months-between">Example: Months Between</a></h4>
<div class="paragraph">
<p>Note that the expression uses <code>as i32</code> to convert the <code>interval_months</code>
to the integer number of months. This discards the units.</p>
</div>
<div class="sect4">
<h5 id="query-54"><a class="anchor" href="#query-54"></a><a class="link" href="#query-54">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>months_between(Input.time, Input.date) as i32</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-53"><a class="anchor" href="#table-input-53"></a><a class="link" href="#table-input-53">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">date</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T00:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1995-07-20T00:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T23:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-20T00:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T05:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-22T00:00:00-00:00</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-54"><a class="anchor" href="#output-csv-54"></a><a class="link" href="#output-csv-54">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">date</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1995-07-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T23:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T05:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mul"><a class="anchor" href="#mul"></a><a class="link" href="#mul">mul</a></h3>
<div class="paragraph">
<p>Returns the product of two numbers.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary operation <code>a * b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-43"><a class="anchor" href="#parameters-43"></a><a class="link" href="#parameters-43">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left-hand side of the multiplication.</p>
</li>
<li>
<p>b: The right-hand side of the multiplication.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> are promoted to a compatible numeric type
following the docs:data-model#numeric-type-coercion-table[numeric type
coercion rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-47"><a class="anchor" href="#results-47"></a><a class="link" href="#results-47">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the promoted numeric type compatible with
both <code>a</code> and <code>b</code>. The result contains <code>null</code> if <code>a</code> or <code>b</code> was null at
that row. Otherwise the row contains the product of <code>a</code> and <code>b</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-multiplication"><a class="anchor" href="#example-multiplication"></a><a class="link" href="#example-multiplication">Example: Multiplication</a></h4>
<div class="sect4">
<h5 id="query-55"><a class="anchor" href="#query-55"></a><a class="link" href="#query-55">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a * Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-54"><a class="anchor" href="#table-input-54"></a><a class="link" href="#table-input-54">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-55"><a class="anchor" href="#output-csv-55"></a><a class="link" href="#output-csv-55">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.84</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.52</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="neg"><a class="anchor" href="#neg"></a><a class="link" href="#neg">neg</a></h3>
<div class="paragraph">
<p>Returns the negation of <code>n</code>.</p>
</div>
<div class="paragraph">
<p>This is the function used for the unary operation <code>-n</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-44"><a class="anchor" href="#parameters-44"></a><a class="link" href="#parameters-44">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>n: The number to be negated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: If <code>n</code> is an unsigned integer type it is promoted to a signed type
following the docs:data-model#numeric-type-coercion-table[numeric type
coercion rules]. If it is an unsigned integer type other than <code>u64</code>, it
is promoted to the next wider signed integer type. If it is <code>u64</code> it is
promoted to <code>f64</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-48"><a class="anchor" href="#results-48"></a><a class="link" href="#results-48">Results</a></h4>
<div class="paragraph">
<p>For each row in the input, returns <code>null</code> if <code>n</code> is <code>null</code>. Otherwise,
returns the negation of <code>n</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-negation"><a class="anchor" href="#example-negation"></a><a class="link" href="#example-negation">Example: Negation</a></h4>
<div class="sect4">
<h5 id="query-56"><a class="anchor" href="#query-56"></a><a class="link" href="#query-56">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>-Input.a</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-55"><a class="anchor" href="#table-input-55"></a><a class="link" href="#table-input-55">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-2.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-56"><a class="anchor" href="#output-csv-56"></a><a class="link" href="#output-csv-56">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-2.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="neq"><a class="anchor" href="#neq"></a><a class="link" href="#neq">neq</a></h3>
<div class="paragraph">
<p>Return <code>true</code> if <code>a</code> is not equal to <code>b</code>.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary comparison <code>a != b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-45"><a class="anchor" href="#parameters-45"></a><a class="link" href="#parameters-45">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left hand side of the comparison.</p>
</li>
<li>
<p>b: The right hand side of the comparison.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> must be of the same type. If they differ, they
may be promoted to a compatible numeric type following the
docs:data-model#numeric-type-coercion-table[numeric type coercion
rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-49"><a class="anchor" href="#results-49"></a><a class="link" href="#results-49">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>bool</code> column indicating the results. For each row, it
contains <code>null</code> if <code>a</code> or <code>b</code> are <code>null</code>, <code>true</code> if they are not equal
and <code>false</code> if they are equal.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#comparison-functions">comparison</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-not-equals"><a class="anchor" href="#example-not-equals"></a><a class="link" href="#example-not-equals">Example: Not Equals</a></h4>
<div class="sect4">
<h5 id="query-57"><a class="anchor" href="#query-57"></a><a class="link" href="#query-57">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a != Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-56"><a class="anchor" href="#table-input-56"></a><a class="link" href="#table-input-56">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-57"><a class="anchor" href="#output-csv-57"></a><a class="link" href="#output-csv-57">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-06T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Jordan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-07T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="not"><a class="anchor" href="#not"></a><a class="link" href="#not">not</a></h3>
<div class="paragraph">
<p>Returns the logical negation of a boolean.</p>
</div>
<div class="paragraph">
<p>This is the function used for the unary operation <code>!input</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-46"><a class="anchor" href="#parameters-46"></a><a class="link" href="#parameters-46">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The boolean value to negate.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-50"><a class="anchor" href="#results-50"></a><a class="link" href="#results-50">Results</a></h4>
<div class="paragraph">
<p>For each row, return <code>true</code> if <code>input</code> is <code>false</code>, <code>false</code> if <code>input</code> is
<code>true</code> and <code>null</code> if <code>input</code> is <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#logical-functions">logical</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-4"><a class="anchor" href="#example-4"></a><a class="link" href="#example-4">Example</a></h4>
<div class="sect4">
<h5 id="query-58"><a class="anchor" href="#query-58"></a><a class="link" href="#query-58">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>!Input.a</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-57"><a class="anchor" href="#table-input-57"></a><a class="link" href="#table-input-57">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-58"><a class="anchor" href="#output-csv-58"></a><a class="link" href="#output-csv-58">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-02-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="null_if"><a class="anchor" href="#null_if"></a><a class="link" href="#null_if">null_if</a></h3>
<div class="paragraph">
<p>Return the <code>value</code> if <code>condition</code> is <code>false</code>, <code>null</code> otherwise.</p>
</div>
<div class="paragraph">
<p><code>null_if</code> "nulls out" the <code>value</code> if <code>condition</code> is <code>true</code>. It is
equivalent to <code>if(!condition, value)</code>](#if).</p>
</div>
<div class="paragraph">
<p>See also <a href="#if"><code>if</code></a>.</p>
</div>
<div class="sect3">
<h4 id="parameters-47"><a class="anchor" href="#parameters-47"></a><a class="link" href="#parameters-47">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>condition: The condition which determines whether to return the
<code>value</code> or <code>null</code>.</p>
</li>
<li>
<p>value: The value to return if <code>condition</code> is <code>false</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: The order of arguments is chosen to allow use with the pipe
operation. Specifically, <code>value | null_if(condition)</code> may be used to
conditionally "null-out" the value on the left-hand side.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-51"><a class="anchor" href="#results-51"></a><a class="link" href="#results-51">Results</a></h4>
<div class="paragraph">
<p>For each row, return the <code>value</code> if <code>condition</code> is <code>false</code>. Returns
<code>null</code> if the <code>condition</code> is <code>true</code> or <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#logical-functions">logical</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-null-if"><a class="anchor" href="#example-null-if"></a><a class="link" href="#example-null-if">Example: Null If</a></h4>
<div class="sect4">
<h5 id="query-59"><a class="anchor" href="#query-59"></a><a class="link" href="#query-59">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.value | null_if(Input.condition)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-58"><a class="anchor" href="#table-input-58"></a><a class="link" href="#table-input-58">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">condition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">58.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">876</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">786.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-59"><a class="anchor" href="#output-csv-59"></a><a class="link" href="#output-csv-59">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">condition</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57.8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">58.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">876.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-05T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">786.0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="powf"><a class="anchor" href="#powf"></a><a class="link" href="#powf">powf</a></h3>
<div class="paragraph">
<p>Returns <code>base^power</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-48"><a class="anchor" href="#parameters-48"></a><a class="link" href="#parameters-48">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>base: The base to raise to the given power.</p>
</li>
<li>
<p>power: The power to raise the base to.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The power function applies to <code>f64</code> numbers only. Other numbers will be
implicitly promoted.</p>
</div>
<div class="paragraph">
<p>Returns a column of <code>f64</code> values. Each row contains <code>null</code> if <code>base</code> or
<code>power</code> are <code>null</code>. Otherwise, the row contains the value
<code>base ^ power</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-power"><a class="anchor" href="#example-power"></a><a class="link" href="#example-power">Example: Power</a></h4>
<div class="sect4">
<h5 id="query-60"><a class="anchor" href="#query-60"></a><a class="link" href="#query-60">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>powf(Input.a, Input.b)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-59"><a class="anchor" href="#table-input-59"></a><a class="link" href="#table-input-59">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-60"><a class="anchor" href="#output-csv-60"></a><a class="link" href="#output-csv-60">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8.073276500106656</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.0880275269924504</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="remove_fields"><a class="anchor" href="#remove_fields"></a><a class="link" href="#remove_fields">remove_fields</a></h3>
<div class="paragraph">
<p>Remove fields from a record.</p>
</div>
<div class="paragraph">
<p>Note: If more fields are being removed than retained, you can use
<a href="#select_fields"><code>select_fields</code></a>.</p>
</div>
<div class="sect3">
<h4 id="parameters-49"><a class="anchor" href="#parameters-49"></a><a class="link" href="#parameters-49">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>record: The record column containing the fields.</p>
</li>
<li>
<p>fields: The name of one or more fields to remove from the record.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Since this is a variable arity function, the <code>$input</code> will not be
implicitly provided. If you wish to use <code>remove_fields</code> with pipe syntax
you must be explicit, as in the example.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-52"><a class="anchor" href="#results-52"></a><a class="link" href="#results-52">Results</a></h4>
<div class="paragraph">
<p>Returns a column containing the fields in <code>record</code> not listed in
<code>fields</code>, with the corresponding values from <code>record</code>. The result is
<code>null</code> in rows where <code>record</code> is <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#record-functions">record</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-record-field-filtering"><a class="anchor" href="#example-record-field-filtering"></a><a class="link" href="#example-record-field-filtering">Example: Record Field Filtering</a></h4>
<div class="sect4">
<h5 id="query-61"><a class="anchor" href="#query-61"></a><a class="link" href="#query-61">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | remove_fields($input, 'c')</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-60"><a class="anchor" href="#table-input-60"></a><a class="link" href="#table-input-60">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">c</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-61"><a class="anchor" href="#output-csv-61"></a><a class="link" href="#output-csv-61">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="round"><a class="anchor" href="#round"></a><a class="link" href="#round">round</a></h3>
<div class="paragraph">
<p>Rounds the number to the nearest integer.</p>
</div>
<div class="paragraph">
<p>See also <a href="#ceil"><code>ceil</code></a> and <a href="#floor"><code>floor</code></a>.</p>
</div>
<div class="sect3">
<h4 id="parameters-50"><a class="anchor" href="#parameters-50"></a><a class="link" href="#parameters-50">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>n: The number to round.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: This method may be applied to any numeric type. For anything other
than <code>float32</code> and <code>float64</code> it has no affect since the values are
already integers.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-53"><a class="anchor" href="#results-53"></a><a class="link" href="#results-53">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the same type as <code>n</code>. The result contains
<code>null</code> if <code>n</code> was null at that position. Otherwise, it contains the
result of rounding <code>n</code> to the nearest integer.</p>
</div>
<div class="paragraph">
<p>Numbers half-way between two integers are rounded away from <code>0</code>. For
example, <code>0.5</code> rounds to <code>1.0</code> and <code>-0.5</code> rounds to <code>-1.0</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-round"><a class="anchor" href="#example-round"></a><a class="link" href="#example-round">Example: Round</a></h4>
<div class="sect4">
<h5 id="query-62"><a class="anchor" href="#query-62"></a><a class="link" href="#query-62">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a | round()</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-61"><a class="anchor" href="#table-input-61"></a><a class="link" href="#table-input-61">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-62"><a class="anchor" href="#output-csv-62"></a><a class="link" href="#output-csv-62">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="seconds"><a class="anchor" href="#seconds"></a><a class="link" href="#seconds">seconds</a></h3>
<div class="paragraph">
<p>Produces a duration corresponding to the given number of seconds.</p>
</div>
<div class="sect3">
<h4 id="parameters-51"><a class="anchor" href="#parameters-51"></a><a class="link" href="#parameters-51">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>seconds: The number of seconds to create the duration for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-54"><a class="anchor" href="#results-54"></a><a class="link" href="#results-54">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>duration_s</code> column with each row containing the value of
<code>seconds</code> converted to the corresponding duration. Rows where <code>seconds</code>
is <code>null</code> will be <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-5"><a class="anchor" href="#example-5"></a><a class="link" href="#example-5">Example</a></h4>
<div class="paragraph">
<p>This example uses <a href="#add-time"><code>add_time</code></a> to add the created duration
to the <code>time</code> column.</p>
</div>
<div class="sect4">
<h5 id="query-63"><a class="anchor" href="#query-63"></a><a class="link" href="#query-63">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.time | add_time(seconds(Input.n))</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-62"><a class="anchor" href="#table-input-62"></a><a class="link" href="#table-input-62">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-63"><a class="anchor" href="#output-csv-63"></a><a class="link" href="#output-csv-63">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:01.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:02.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:03.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:02.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:01.000000000</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="seconds_between"><a class="anchor" href="#seconds_between"></a><a class="link" href="#seconds_between">seconds_between</a></h3>
<div class="paragraph">
<p>Returns the number of seconds between the first and second timestamp.</p>
</div>
<div class="sect3">
<h4 id="parameters-52"><a class="anchor" href="#parameters-52"></a><a class="link" href="#parameters-52">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>t1: The first timestamp</p>
</li>
<li>
<p>t2: The second timestamp</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-55"><a class="anchor" href="#results-55"></a><a class="link" href="#results-55">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>duration_s</code> column representing the number of seconds between
the two timestamps.</p>
</div>
<div class="paragraph">
<p>In rows where <code>t1</code> or <code>t2</code> are <code>null</code>, the result will be <code>null</code>. If
<code>t1</code> is before <code>t2</code>, the result will be positive. If <code>t1</code> is after <code>t2</code>,
the result will be negative.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-seconds-between"><a class="anchor" href="#example-seconds-between"></a><a class="link" href="#example-seconds-between">Example: Seconds Between</a></h4>
<div class="paragraph">
<p>Note that the expression uses <code>as i64</code> to convert the <code>duration_s</code> to
the integer number of seconds. This discards the units.</p>
</div>
<div class="sect4">
<h5 id="query-64"><a class="anchor" href="#query-64"></a><a class="link" href="#query-64">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>seconds_between(Input.time, Input.date) as i64</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-63"><a class="anchor" href="#table-input-63"></a><a class="link" href="#table-input-63">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">date</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T00:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1995-07-20T00:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T23:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-20T00:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T05:00:00-00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-22T00:00:00-00:00</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-64"><a class="anchor" href="#output-csv-64"></a><a class="link" href="#output-csv-64">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">date</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13046400</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1995-07-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-23846400</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T23:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2509200</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T05:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5115600</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">86400</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="select_fields"><a class="anchor" href="#select_fields"></a><a class="link" href="#select_fields">select_fields</a></h3>
<div class="paragraph">
<p>Limits fields in a record to a given set.</p>
</div>
<div class="paragraph">
<p>Note: If more fields are being selected than removed, you can use
<a href="#remove_fields"><code>remove_fields</code></a>.</p>
</div>
<div class="sect3">
<h4 id="parameters-53"><a class="anchor" href="#parameters-53"></a><a class="link" href="#parameters-53">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>record: The record column containing the fields.</p>
</li>
<li>
<p>fields: The name of one or more fields to select from the record.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Since this is a variable arity function, the <code>$input</code> will not be
implicitly provided. If you wish to use <code>select_fields</code> with pipe syntax
you must be explicit, as in the example.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-56"><a class="anchor" href="#results-56"></a><a class="link" href="#results-56">Results</a></h4>
<div class="paragraph">
<p>Returns a column containing the record fields listed in <code>fields</code> with
the corresponding values from <code>record</code>. The result is <code>null</code> in rows
where <code>record</code> is <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#record-functions">record</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-record-field-selection"><a class="anchor" href="#example-record-field-selection"></a><a class="link" href="#example-record-field-selection">Example: Record Field Selection</a></h4>
<div class="sect4">
<h5 id="query-65"><a class="anchor" href="#query-65"></a><a class="link" href="#query-65">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | select_fields($input, 'key', 'a', 'b')</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-64"><a class="anchor" href="#table-input-64"></a><a class="link" href="#table-input-64">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">c</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-65"><a class="anchor" href="#output-csv-65"></a><a class="link" href="#output-csv-65">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.0</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shift_to"><a class="anchor" href="#shift_to"></a><a class="link" href="#shift_to">shift_to</a></h3>
<div class="paragraph">
<p>Produces the current <code>value</code> shifted forward to the given <code>time</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-54"><a class="anchor" href="#parameters-54"></a><a class="link" href="#parameters-54">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>time: Column containing the times to shift values to.</p>
</li>
<li>
<p>value: The values to be shifted.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-57"><a class="anchor" href="#results-57"></a><a class="link" href="#results-57">Results</a></h4>
<div class="paragraph">
<p>For each row, shifts the <code>value</code> forward to the given <code>time</code>. For rows
where either <code>value</code> or <code>time</code> is <code>null</code>, nothing is shifted forward. If
value of the <code>time</code> column is less than the time of the current row,
nothing is shifted forward.</p>
</div>
<div class="paragraph">
<p>If multiple values for the same entity key are shifted to the same time,
all of them will be emitted in the order they originally appeared.</p>
</div>
<div class="paragraph">
<p>New <code>subsort</code> IDs will be assigned to each row.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-shift-to"><a class="anchor" href="#example-shift-to"></a><a class="link" href="#example-shift-to">Example: Shift To</a></h4>
<div class="paragraph">
<p>This example uses <code>shift_to</code> to shift values from <code>Input</code> forward to the
<code>date</code> field. The order of rows (shown in field <code>n</code>) changes based on
the order of <code>date</code>. Since the row containing <code>n = 4</code> has a <code>date</code> less
than the <code>time</code>, it is dropped.</p>
</div>
<div class="paragraph">
<p>The rows with <code>n = 3</code> and <code>n = 5</code> had the same <code>date</code>. We see that they
have both been shifted to the same time, and the original order
preserved within that time.</p>
</div>
<div class="sect4">
<h5 id="query-66"><a class="anchor" href="#query-66"></a><a class="link" href="#query-66">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | shift_to(Input.date)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-65"><a class="anchor" href="#table-input-65"></a><a class="link" href="#table-input-65">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">date</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-66"><a class="anchor" href="#output-csv-66"></a><a class="link" href="#output-csv-66">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">date</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-22T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shift_until"><a class="anchor" href="#shift_until"></a><a class="link" href="#shift_until">shift_until</a></h3>
<div class="paragraph">
<p>Produces the <code>value</code> shifted forward to the time the <code>predicate</code> is
true.</p>
</div>
<div class="sect3">
<h4 id="parameters-55"><a class="anchor" href="#parameters-55"></a><a class="link" href="#parameters-55">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>predicate: The predicate to determine whether to emit shifted rows.</p>
</li>
<li>
<p>value: The value to shift until the <code>predicate</code> is true.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-58"><a class="anchor" href="#results-58"></a><a class="link" href="#results-58">Results</a></h4>
<div class="paragraph">
<p>Shifts non-<code>null</code> rows of <code>value</code> forward until the next time the
<code>predicate</code> evaluates to true for that entity. Note that the <code>predicate</code>
is evaluated in the current row.</p>
</div>
<div class="paragraph">
<p>If multiple values for the same entity are shifted to the same time, all
of them will be emitted in the order they originally appeared. New
<code>subsort</code> IDs will be assigned to each row.</p>
</div>
<div class="paragraph">
<p>A value may be produced at the same time it occurs if the <code>predicate</code>
evaluates to true at that time.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-shift-until"><a class="anchor" href="#example-shift-until"></a><a class="link" href="#example-shift-until">Example: Shift Until</a></h4>
<div class="paragraph">
<p>This examples uses <code>shift_until</code> to shift values from <code>Input</code> forward
until the condition is true. We see that the rows are output in the
original order (seen by looking at the <code>n</code> column). Rows where the
<code>condition</code> is <code>true</code> cause rows to be output at that time, including
any preceding (but not yet output) rows. Also note that the final row
(with <code>n = 7</code>) has not yet been output, since the condition has not been
<code>true</code> after it (yet).</p>
</div>
<div class="sect4">
<h5 id="query-67"><a class="anchor" href="#query-67"></a><a class="link" href="#query-67">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | shift_until(Input.condition)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-66"><a class="anchor" href="#table-input-66"></a><a class="link" href="#table-input-66">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">condition</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-67"><a class="anchor" href="#output-csv-67"></a><a class="link" href="#output-csv-67">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">condition</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="since"><a class="anchor" href="#since"></a><a class="link" href="#since">since</a></h3>
<div class="paragraph">
<p>Configures a windowed aggregation.</p>
</div>
<div class="paragraph">
<p>Configures aggregations to window since the last time the <code>condition</code>
was <code>true</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-56"><a class="anchor" href="#parameters-56"></a><a class="link" href="#parameters-56">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>condition: The condition used to determine when a new window is
started.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-59"><a class="anchor" href="#results-59"></a><a class="link" href="#results-59">Results</a></h4>
<div class="paragraph">
<p>Returns a window behavior that can be used with an
<a href="#aggregation-functions">aggregation</a> to configure windowed
aggregations.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#window-functions">window</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-hourly-count"><a class="anchor" href="#example-hourly-count"></a><a class="link" href="#example-hourly-count">Example: Hourly Count</a></h4>
<div class="paragraph">
<p>Produces the count since the start of the hour.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The time and key are not available on the rows created by the
ticks. The expression here uses <code>extend</code>, <code>time_of</code> and <code>first</code> to
compute the <code>time</code> and <code>key</code> columns for all rows.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="query-68"><a class="anchor" href="#query-68"></a><a class="link" href="#query-68">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>{ n: Input.n, result: count(Input, window = since(hourly())) }
# Compute time and key for all rows, even the ticks.
| extend({ time: time_of($input), key: first(Input.key) })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-67"><a class="anchor" href="#table-input-67"></a><a class="link" href="#table-input-67">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:03:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-68"><a class="anchor" href="#output-csv-68"></a><a class="link" href="#output-csv-68">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:03:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:01:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-count-since-predicate"><a class="anchor" href="#example-count-since-predicate"></a><a class="link" href="#example-count-since-predicate">Example: Count Since Predicate</a></h4>
<div class="sect4">
<h5 id="query-69"><a class="anchor" href="#query-69"></a><a class="link" href="#query-69">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>count(Input, window = since(Input.n &gt; 5))</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-68"><a class="anchor" href="#table-input-68"></a><a class="link" href="#table-input-68">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:03:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-69"><a class="anchor" href="#output-csv-69"></a><a class="link" href="#output-csv-69">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:57-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:58-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T17:03:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T18:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sliding"><a class="anchor" href="#sliding"></a><a class="link" href="#sliding">sliding</a></h3>
<div class="paragraph">
<p>Configures sliding windowed aggregations.</p>
</div>
<div class="paragraph">
<p>Configures aggregations to slide over a window of inputs, where the
width of the window is determined by the number of times (<code>duration</code>)
the <code>condition</code> is <code>true</code>.</p>
</div>
<div class="paragraph">
<p>Given the function <code>sliding(3, hourly())</code>, at 8:27 PM the window starts
at 6:00 PM, with points at 7:00 and 8:00 PM. Once time advances to 9:00
PM, the <code>condition</code> is <code>true</code> and the window slides forward to start at
7:00 PM. The 3 most recent points where <code>condition</code> was <code>true</code> are 7:00
PM, 8:00 PM, and 9:00 PM.</p>
</div>
<div class="sect3">
<h4 id="parameters-57"><a class="anchor" href="#parameters-57"></a><a class="link" href="#parameters-57">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>duration: The number of sliding intervals to use in the window.</p>
</li>
<li>
<p>condition: The condition used to determine when the window should
slide.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-60"><a class="anchor" href="#results-60"></a><a class="link" href="#results-60">Results</a></h4>
<div class="paragraph">
<p>Returns a window behavior that can be used with an
<a href="#aggregation-functions">aggregation</a> to configure windowed
aggregations.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#window-functions">window</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-sliding-over-2-days"><a class="anchor" href="#example-sliding-over-2-days"></a><a class="link" href="#example-sliding-over-2-days">Example: Sliding Over 2 Days</a></h4>
<div class="paragraph">
<p>Produces the sum of <code>Input.n</code> over a window of 2 days.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The time and key are not available on the rows created by the
ticks. The expression here uses <code>extend</code>, <code>time_of</code> and <code>first</code> to
compute the <code>time</code> and <code>key</code> columns for all rows.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="query-70"><a class="anchor" href="#query-70"></a><a class="link" href="#query-70">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>{ n: Input.n, result: sum(Input.n, window = sliding(2, daily())) }
# Compute time and key for all rows, even the ticks.
| extend({ time: time_of($input), key: first(Input.key) })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-69"><a class="anchor" href="#table-input-69"></a><a class="link" href="#table-input-69">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T01:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-70"><a class="anchor" href="#output-csv-70"></a><a class="link" href="#output-csv-70">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T01:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-sliding-over-3-events"><a class="anchor" href="#example-sliding-over-3-events"></a><a class="link" href="#example-sliding-over-3-events">Example: Sliding Over 3 Events</a></h4>
<div class="paragraph">
<p>In this example, the <code>condition</code> evaluates to <code>true</code> when the input is
valid, meaning the width of the window is 3 <code>Input</code> rows.</p>
</div>
<div class="sect4">
<h5 id="query-71"><a class="anchor" href="#query-71"></a><a class="link" href="#query-71">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>mean(Input.n, window = sliding(3, is_valid(Input)))</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-70"><a class="anchor" href="#table-input-70"></a><a class="link" href="#table-input-70">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">subsort</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T01:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-71"><a class="anchor" href="#output-csv-71"></a><a class="link" href="#output-csv-71">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">subsort</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-20T01:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.6666666666666665</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4.333333333333333</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sqrt"><a class="anchor" href="#sqrt"></a><a class="link" href="#sqrt">sqrt</a></h3>
<div class="paragraph">
<p>Returns the square root of <code>a</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-58"><a class="anchor" href="#parameters-58"></a><a class="link" href="#parameters-58">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The number to take the square root of.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-61"><a class="anchor" href="#results-61"></a><a class="link" href="#results-61">Results</a></h4>
<div class="paragraph">
<p>Returns a column of type <code>f64</code>. The result contains <code>null</code> if <code>a</code> was
null at that row. Otherwise the row contains the square root of <code>a</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-square-root"><a class="anchor" href="#example-square-root"></a><a class="link" href="#example-square-root">Example: Square Root</a></h4>
<div class="sect4">
<h5 id="query-72"><a class="anchor" href="#query-72"></a><a class="link" href="#query-72">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>sqrt(Input.a)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-71"><a class="anchor" href="#table-input-71"></a><a class="link" href="#table-input-71">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-72"><a class="anchor" href="#output-csv-72"></a><a class="link" href="#output-csv-72">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3874672772626644</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.5099800796022267</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="stddev"><a class="anchor" href="#stddev"></a><a class="link" href="#stddev">stddev</a></h3>
<div class="paragraph">
<p>Computes the sample standard deviation of values across the input.</p>
</div>
<div class="paragraph">
<p>Computes the sample standard deviation, which is the square root of the
<a href="#variance">sample variance</a>.</p>
</div>
<div class="sect3">
<h4 id="parameters-59"><a class="anchor" href="#parameters-59"></a><a class="link" href="#parameters-59">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to compute the standard deviation of.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-62"><a class="anchor" href="#results-62"></a><a class="link" href="#results-62">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the mean of new, non-<code>null</code> rows in <code>input</code>
up to and including the input row for the given entity. Returns <code>null</code>
until there has been at least two such inputs.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a>
<a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-standard-deviation"><a class="anchor" href="#example-standard-deviation"></a><a class="link" href="#example-standard-deviation">Example: Standard Deviation</a></h4>
<div class="sect4">
<h5 id="query-73"><a class="anchor" href="#query-73"></a><a class="link" href="#query-73">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>stddev(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-72"><a class="anchor" href="#table-input-72"></a><a class="link" href="#table-input-72">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-73"><a class="anchor" href="#output-csv-73"></a><a class="link" href="#output-csv-73">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">24.750000000000004</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">24.750000000000004</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32.45</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sub"><a class="anchor" href="#sub"></a><a class="link" href="#sub">sub</a></h3>
<div class="paragraph">
<p>Returns the difference of two numbers.</p>
</div>
<div class="paragraph">
<p>This is the function used for the binary operation <code>a - b</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-60"><a class="anchor" href="#parameters-60"></a><a class="link" href="#parameters-60">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a: The left-hand side of the subtraction.</p>
</li>
<li>
<p>b: The right-hand side of the subtraction.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> are promoted to a compatible numeric type
following the docs:data-model#numeric-type-coercion-table[numeric type
coercion rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-63"><a class="anchor" href="#results-63"></a><a class="link" href="#results-63">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the promoted numeric type compatible with
both <code>a</code> and <code>b</code>. The result contains <code>null</code> if <code>a</code> or <code>b</code> was null at
that row. Otherwise the row contains the difference of <code>a</code> and <code>b</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a> <a href="#operators">operator</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-subtraction"><a class="anchor" href="#example-subtraction"></a><a class="link" href="#example-subtraction">Example: Subtraction</a></h4>
<div class="sect4">
<h5 id="query-74"><a class="anchor" href="#query-74"></a><a class="link" href="#query-74">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.a - Input.b</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-73"><a class="anchor" href="#table-input-73"></a><a class="link" href="#table-input-73">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-74"><a class="anchor" href="#output-csv-74"></a><a class="link" href="#output-csv-74">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4.5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.8999999999999995</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12.2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="substring"><a class="anchor" href="#substring"></a><a class="link" href="#substring">substring</a></h3>
<div class="paragraph">
<p>Takes a substring of the input between start and end indices.</p>
</div>
<div class="sect3">
<h4 id="parameters-61"><a class="anchor" href="#parameters-61"></a><a class="link" href="#parameters-61">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>s: The string to take a substring of.</p>
</li>
<li>
<p>start: The inclusive index to start at. <code>null</code> indicates the beginning
of the string. Negative indices count backwards from the end of the
string.</p>
</li>
<li>
<p>end: The exclusive index to end at. <code>null</code> indicates the length of the
string. Negative indices count backwards from the end of the string.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-64"><a class="anchor" href="#results-64"></a><a class="link" href="#results-64">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>string</code> column, with each row containing the substring of <code>s</code>
starting at <code>start</code> (inclusive) up to but not including the <code>end</code>.</p>
</div>
<div class="paragraph">
<p>If <code>s</code> is <code>null</code>, returns <code>null</code>. If <code>end &gt; start</code> an empty string is
returned.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#string-functions">string</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-substring-suffix"><a class="anchor" href="#example-substring-suffix"></a><a class="link" href="#example-substring-suffix">Example: Substring Suffix</a></h4>
<div class="paragraph">
<p>This example shows using the <code>substring</code> function to extract the last 3
characters of a string. Note that if the string is shorter than 3
characters the empty string is returned.</p>
</div>
<div class="paragraph">
<p>Specifically, <code>-3</code> is interpreted as <code>len(s) - 3</code>, which produces a
negative number for shorter strings, and is thus less than the start of
the string (<code>0</code>).</p>
</div>
<div class="sect4">
<h5 id="query-75"><a class="anchor" href="#query-75"></a><a class="link" href="#query-75">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.value | substring(start = -3)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-74"><a class="anchor" href="#table-input-74"></a><a class="link" href="#table-input-74">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-75"><a class="anchor" href="#output-csv-75"></a><a class="link" href="#output-csv-75">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">rld</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">rth</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">llo</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-substring"><a class="anchor" href="#example-substring"></a><a class="link" href="#example-substring">Example: Substring</a></h4>
<div class="sect4">
<h5 id="query-76"><a class="anchor" href="#query-76"></a><a class="link" href="#query-76">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.value | substring(start = 3, end = -3)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-75"><a class="anchor" href="#table-input-75"></a><a class="link" href="#table-input-75">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-76"><a class="anchor" href="#output-csv-76"></a><a class="link" href="#output-csv-76">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">lo Wo</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ea</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sum"><a class="anchor" href="#sum"></a><a class="link" href="#sum">sum</a></h3>
<div class="paragraph">
<p>Computes the sum of values across the input.</p>
</div>
<div class="sect3">
<h4 id="parameters-62"><a class="anchor" href="#parameters-62"></a><a class="link" href="#parameters-62">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to compute the sum of.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-65"><a class="anchor" href="#results-65"></a><a class="link" href="#results-65">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the minimum of new, non-<code>null</code> rows in
<code>input</code> up to and including the input row for the given entity. Returns
<code>null</code> until there has been at least one such input.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a>
<a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-sum"><a class="anchor" href="#example-sum"></a><a class="link" href="#example-sum">Example: Sum</a></h4>
<div class="sect4">
<h5 id="query-77"><a class="anchor" href="#query-77"></a><a class="link" href="#query-77">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>sum(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-76"><a class="anchor" href="#table-input-76"></a><a class="link" href="#table-input-76">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-77"><a class="anchor" href="#output-csv-77"></a><a class="link" href="#output-csv-77">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">51.900000000000006</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">51.900000000000006</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">69.5</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="time_of"><a class="anchor" href="#time_of"></a><a class="link" href="#time_of">time_of</a></h3>
<div class="paragraph">
<p>Returns the timestamp of rows in <code>input</code>.</p>
</div>
<div class="sect3">
<h4 id="parameters-63"><a class="anchor" href="#parameters-63"></a><a class="link" href="#parameters-63">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The column to retrieve timestamps for. It may be of any type
(including records).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-66"><a class="anchor" href="#results-66"></a><a class="link" href="#results-66">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>timestamp_ns</code> column containing the timestamp of each row in
the <code>input</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-time-of-record-column"><a class="anchor" href="#example-time-of-record-column"></a><a class="link" href="#example-time-of-record-column">Example: Time Of Record Column</a></h4>
<div class="sect4">
<h5 id="query-78"><a class="anchor" href="#query-78"></a><a class="link" href="#query-78">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>time_of(Input)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-77"><a class="anchor" href="#table-input-77"></a><a class="link" href="#table-input-77">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-78"><a class="anchor" href="#output-csv-78"></a><a class="link" href="#output-csv-78">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00.000000000</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-time-of-integer-column"><a class="anchor" href="#example-time-of-integer-column"></a><a class="link" href="#example-time-of-integer-column">Example: Time Of Integer Column</a></h4>
<div class="sect4">
<h5 id="query-79"><a class="anchor" href="#query-79"></a><a class="link" href="#query-79">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>time_of(Input.integer)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-78"><a class="anchor" href="#table-input-78"></a><a class="link" href="#table-input-78">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">integer</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">37</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">24</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-79"><a class="anchor" href="#output-csv-79"></a><a class="link" href="#output-csv-79">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">integer</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00.000000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00.000000000</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="upper"><a class="anchor" href="#upper"></a><a class="link" href="#upper">upper</a></h3>
<div class="paragraph">
<p>Converts the string to upper case.</p>
</div>
<div class="sect3">
<h4 id="parameters-64"><a class="anchor" href="#parameters-64"></a><a class="link" href="#parameters-64">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>s: The string to convert to upper case.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-67"><a class="anchor" href="#results-67"></a><a class="link" href="#results-67">Results</a></h4>
<div class="paragraph">
<p>Returns a <code>string</code> column with each row containing the string <code>s</code> from
that row converted to all upper case. The row contains <code>null</code> if <code>s</code> is
<code>null</code> in that row.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#string-functions">string</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-upper-case"><a class="anchor" href="#example-upper-case"></a><a class="link" href="#example-upper-case">Example: Upper Case</a></h4>
<div class="sect4">
<h5 id="query-80"><a class="anchor" href="#query-80"></a><a class="link" href="#query-80">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input.value | upper()</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-79"><a class="anchor" href="#table-input-79"></a><a class="link" href="#table-input-79">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-80"><a class="anchor" href="#output-csv-80"></a><a class="link" href="#output-csv-80">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello World</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">HELLO WORLD</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hi Earth</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">HI EARTH</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Hello</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">HELLO</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">HI</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="variance"><a class="anchor" href="#variance"></a><a class="link" href="#variance">variance</a></h3>
<div class="paragraph">
<p>Computes the sample variance of values across the input.</p>
</div>
<div class="paragraph">
<p>Computes the sample variance. This divides by the number of values minus
1, rather the number of values (which would be the population variance).</p>
</div>
<div class="sect3">
<h4 id="parameters-65"><a class="anchor" href="#parameters-65"></a><a class="link" href="#parameters-65">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>input: The input to compute the variance of.</p>
</li>
<li>
<p>window: The window to aggregate within, as described in
<a href="#aggregation-functions">Aggregation Functions</a>. If <code>null</code>,
aggregates are across all rows for the current entity. If non-<code>null</code>,
aggregates are within the specified window. See
<a href="#window-functions">window functions</a> for how to specify the
aggregation window.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-68"><a class="anchor" href="#results-68"></a><a class="link" href="#results-68">Results</a></h4>
<div class="paragraph">
<p>For each input row, return the mean of new, non-<code>null</code> rows in <code>input</code>
up to and including the input row for the given entity. Returns <code>null</code>
until there has been at least two such inputs.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#aggregation-functions">aggregation</a>
<a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-variance"><a class="anchor" href="#example-variance"></a><a class="link" href="#example-variance">Example: Variance</a></h4>
<div class="sect4">
<h5 id="query-81"><a class="anchor" href="#query-81"></a><a class="link" href="#query-81">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>variance(Input.value)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-80"><a class="anchor" href="#table-input-80"></a><a class="link" href="#table-input-80">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-81"><a class="anchor" href="#output-csv-81"></a><a class="link" href="#output-csv-81">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">value</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50.7</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67.2</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">612.5625000000001</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">612.5625000000001</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-04T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1053.0025000000003</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="when"><a class="anchor" href="#when"></a><a class="link" href="#when">when</a></h3>
<div class="paragraph">
<p>Produces the current <code>value</code> when the <code>condition</code> evaluates to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>Performs filtering of rows. Unlike <a href="#if"><code>if</code></a> which just "nulls" out
a value in the current row, this removes the row entirely.</p>
</div>
<div class="sect3">
<h4 id="parameters-66"><a class="anchor" href="#parameters-66"></a><a class="link" href="#parameters-66">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>condition: Determines whether to include a given row.</p>
</li>
<li>
<p>value: The value to return if <code>condition</code> is <code>true</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: The order of arguments is chosen to allow use with the pipe
operation. Specifically, <code>value | when(condition)</code> may be used to filter
rows.</p>
</div>
</div>
<div class="sect3">
<h4 id="results-69"><a class="anchor" href="#results-69"></a><a class="link" href="#results-69">Results</a></h4>
<div class="paragraph">
<p>For each row, return the <code>value</code> if <code>condition</code> is <code>true</code>. Omits rows
where the <code>condition</code> is <code>false</code> or <code>null</code>.</p>
</div>
<div class="paragraph">
<p>Note: If the <code>value</code> is continuous (eg., the result of an aggregation)
then this returns the latest result of the aggregation when <code>condition</code>
is <code>true</code>. If the <code>value</code> is not continuous (eg., taken directly from
events) then this returns the current <code>value</code> when the <code>condition</code> is
<code>true</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-when"><a class="anchor" href="#example-when"></a><a class="link" href="#example-when">Example: When</a></h4>
<div class="sect4">
<h5 id="query-82"><a class="anchor" href="#query-82"></a><a class="link" href="#query-82">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | when(Input.condition)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-81"><a class="anchor" href="#table-input-81"></a><a class="link" href="#table-input-81">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">condition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-82"><a class="anchor" href="#output-csv-82"></a><a class="link" href="#output-csv-82">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">condition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="with_key"><a class="anchor" href="#with_key"></a><a class="link" href="#with_key">with_key</a></h3>
<div class="paragraph">
<p>Changes the grouping of the input <code>value</code>.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p> Warning <code>with_key</code> is experimental functionality. You should expect
the behavior to potentially change in the future. There may be issues
when using this if multiple rows are assigned the same key.</p>
</div>
</blockquote>
</div>
<div class="sect3">
<h4 id="parameters-67"><a class="anchor" href="#parameters-67"></a><a class="link" href="#parameters-67">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>key: The new key to use for the grouping.</p>
</li>
<li>
<p>value: The value to be re-grouped.</p>
</li>
<li>
<p>grouping: A string literal naming the new grouping. This should match
other tables associated with the same entity type in order for
docs:entities#cross-table-operations[cross-table operations] to be
possible. If no <code>grouping</code> is specified one will be computed from the
type of the <code>key</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-70"><a class="anchor" href="#results-70"></a><a class="link" href="#results-70">Results</a></h4>
<div class="paragraph">
<p>Returns a column containing the non-<code>null</code> rows of <code>value</code>. Each row
occurs at the same time as in <code>value</code>. The results have been re-keyed
based on the value of <code>key</code> to be part of the named <code>grouping</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#grouping-functions">grouping</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-changing-keys"><a class="anchor" href="#example-changing-keys"></a><a class="link" href="#example-changing-keys">Example: Changing Keys</a></h4>
<div class="paragraph">
<p>This example starts with input grouped by the <code>key</code> column. We wish to
instead compute aggregates grouped by the <code>other_key</code> column. We do this
by using the <code>with_key</code> function to change the grouping. We use
<code>other_key</code> as the name of the grouping so that this table is compatible
with others grouped similarly.</p>
</div>
<div class="paragraph">
<p>After we have regrouped we compute the <code>sum</code>, which we see is grouped by
the <code>other_key</code>. The <code>extend</code> function is used so that we can add fields
to the regrouped record.</p>
</div>
<div class="sect4">
<h5 id="query-83"><a class="anchor" href="#query-83"></a><a class="link" href="#query-83">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input
    | with_key($input.other_key, grouping = 'other_key')
    | extend($input, { sum_n_by_other_key: sum($input.n) })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-82"><a class="anchor" href="#table-input-82"></a><a class="link" href="#table-input-82">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">other_key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-11T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-83"><a class="anchor" href="#output-csv-83"></a><a class="link" href="#output-csv-83">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">other_key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">sum_n_by_other_key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-03-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">14</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-10T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">14</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-04-11T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="year"><a class="anchor" href="#year"></a><a class="link" href="#year">year</a></h3>
<div class="paragraph">
<p>Return the year of the given timestamp.</p>
</div>
<div class="sect3">
<h4 id="parameters-68"><a class="anchor" href="#parameters-68"></a><a class="link" href="#parameters-68">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>time: The timestamp to return the year for.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="results-71"><a class="anchor" href="#results-71"></a><a class="link" href="#results-71">Results</a></h4>
<div class="paragraph">
<p>Returns an <code>i32</code> column containing the year for each input <code>time</code>.
Returns <code>null</code> for rows where <code>time</code> is <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#time-functions">time</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-year"><a class="anchor" href="#example-year"></a><a class="link" href="#example-year">Example: Year</a></h4>
<div class="sect4">
<h5 id="query-84"><a class="anchor" href="#query-84"></a><a class="link" href="#query-84">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>year(Input.time)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-83"><a class="anchor" href="#table-input-83"></a><a class="link" href="#table-input-83">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1999-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2000-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2022-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-84"><a class="anchor" href="#output-csv-84"></a><a class="link" href="#output-csv-84">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-03-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-04-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1999-05-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1999</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2000-06-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-07-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2022-08-21T00:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2022</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="yearly"><a class="anchor" href="#yearly"></a><a class="link" href="#yearly">yearly</a></h3>
<div class="paragraph">
<p>A periodic function that produces a <code>true</code> value at the start of each
calendar year (UTC).</p>
</div>
<div class="paragraph">
<p>This function is often used in aggregations to produce windows or as a
predicate column.</p>
</div>
<div class="sect3">
<h4 id="results-72"><a class="anchor" href="#results-72"></a><a class="link" href="#results-72">Results</a></h4>
<div class="paragraph">
<p>Returns a boolean column with each row containing a <code>true</code> value at the
start of each calendary yea rand <code>null</code> at all other times.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#tick-functions">tick</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-yearly-aggregated-window"><a class="anchor" href="#example-yearly-aggregated-window"></a><a class="link" href="#example-yearly-aggregated-window">Example: Yearly Aggregated Window</a></h4>
<div class="paragraph">
<p>In this example, the <code>yearly()</code> function is used as an argument to the
<a href="#since">`since</a> function, which produces a window. The result is a
windowed aggregation that resets at the start of each calendar year
(UTC).</p>
</div>
<div class="sect4">
<h5 id="query-85"><a class="anchor" href="#query-85"></a><a class="link" href="#query-85">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>{ n: Input.n, yearly_sum: sum(Input.n, window = since(yearly())) }
| extend({time: time_of($input), key: first(Input.key) })</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-84"><a class="anchor" href="#table-input-84"></a><a class="link" href="#table-input-84">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-20T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-20T16:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1998-12-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-85"><a class="anchor" href="#output-csv-85"></a><a class="link" href="#output-csv-85">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
<th class="tableblock halign-center valign-top">yearly_sum</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-01-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-01-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-20T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-20T16:01:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-21T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1998-01-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1998-01-01T00:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1998-12-21T16:00:00.000000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-filter-yearly"><a class="anchor" href="#example-filter-yearly"></a><a class="link" href="#example-filter-yearly">Example: Filter Yearly</a></h4>
<div class="paragraph">
<p>In this example, the <code>yearly()</code> function is used as an argument to the
<a href="#when"><code>when</code></a> function, which filters input.</p>
</div>
<div class="paragraph">
<p>The output includes the last input row before a <a href="#tick"><code>tick</code></a>
occurs.</p>
</div>
<div class="sect4">
<h5 id="query-86"><a class="anchor" href="#query-86"></a><a class="link" href="#query-86">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>Input | last() | when(yearly())</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-85"><a class="anchor" href="#table-input-85"></a><a class="link" href="#table-input-85">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-20T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-20T16:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1998-12-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-86"><a class="anchor" href="#output-csv-86"></a><a class="link" href="#output-csv-86">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1996-12-19T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-20T16:01:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ben</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1997-12-21T16:00:00-00:00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ryan</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="zip_max"><a class="anchor" href="#zip_max"></a><a class="link" href="#zip_max">zip_max</a></h3>
<div class="paragraph">
<p>Returns the maximum of two values.</p>
</div>
<div class="paragraph">
<p>This returns the maximum of two values. See the aggregation
<a href="#max"><code>max</code></a> for the maximum of values in a column up to and
including the current row.</p>
</div>
<div class="sect3">
<h4 id="parameters-69"><a class="anchor" href="#parameters-69"></a><a class="link" href="#parameters-69">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a, b: The two values to take the maximum of.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> are promoted to a compatible ordered type
following the docs:data-model#numeric-type-coercion-table[numeric type
coercion rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-73"><a class="anchor" href="#results-73"></a><a class="link" href="#results-73">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the promoted type. Each row contains the
value from <code>a</code> if <code>a</code> is greater than <code>b</code>, otherwise it contains <code>b</code>.
Specifically, if <code>a</code> or <code>b</code> is <code>NaN</code> then <code>b</code> will be returned. If <code>a</code>
or <code>b</code> are <code>null</code>, then <code>b</code> will be returned.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-zip-max"><a class="anchor" href="#example-zip-max"></a><a class="link" href="#example-zip-max">Example: Zip Max</a></h4>
<div class="sect4">
<h5 id="query-87"><a class="anchor" href="#query-87"></a><a class="link" href="#query-87">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>zip_max(Input.a, Input.b)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-86"><a class="anchor" href="#table-input-86"></a><a class="link" href="#table-input-86">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-87"><a class="anchor" href="#output-csv-87"></a><a class="link" href="#output-csv-87">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="zip_min"><a class="anchor" href="#zip_min"></a><a class="link" href="#zip_min">zip_min</a></h3>
<div class="paragraph">
<p>Returns the minimum of two values.</p>
</div>
<div class="paragraph">
<p>This returns the minimum of two values. See the aggregation
<a href="#min"><code>min</code></a> for the minimum of values in a column up to and
including the current row.</p>
</div>
<div class="sect3">
<h4 id="parameters-70"><a class="anchor" href="#parameters-70"></a><a class="link" href="#parameters-70">Parameters</a></h4>
<div class="ulist">
<ul>
<li>
<p>a, b: The two values to take the minimum of.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Both <code>a</code> and <code>b</code> are promoted to a compatible ordered type
following the docs:data-model#numeric-type-coercion-table[numeric type
coercion rules].</p>
</div>
</div>
<div class="sect3">
<h4 id="results-74"><a class="anchor" href="#results-74"></a><a class="link" href="#results-74">Results</a></h4>
<div class="paragraph">
<p>Returns a numeric column of the promoted type. Each row contains the
value from <code>a</code> if <code>a</code> is less than <code>b</code>, otherwise it contains <code>b</code>.
Specifically, if <code>a</code> or <code>b</code> is <code>NaN</code> then <code>b</code> will be returned. If <code>a</code>
or <code>b</code> are <code>null</code>, then <code>b</code> will be returned.</p>
</div>
<div class="paragraph">
<p><strong>Tags:</strong> <a href="#math-functions">math</a></p>
</div>
</div>
<div class="sect3">
<h4 id="example-zip-min"><a class="anchor" href="#example-zip-min"></a><a class="link" href="#example-zip-min">Example: Zip Min</a></h4>
<div class="sect4">
<h5 id="query-88"><a class="anchor" href="#query-88"></a><a class="link" href="#query-88">Query</a></h5>
<div class="literalblock">
<div class="content">
<pre>zip_min(Input.a, Input.b)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table-input-87"><a class="anchor" href="#table-input-87"></a><a class="link" href="#table-input-87">Table: Input</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: <code>Input</code></p>
</li>
<li>
<p><strong>Time Column</strong>: <code>time</code></p>
</li>
<li>
<p><strong>Group Column</strong>: <code>key</code></p>
</li>
<li>
<p><strong>Grouping</strong>: <code>grouping</code></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="output-csv-88"><a class="anchor" href="#output-csv-88"></a><a class="link" href="#output-csv-88">Output CSV</a></h5>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">time</th>
<th class="tableblock halign-center valign-top">key</th>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">b</th>
<th class="tableblock halign-center valign-top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5.7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-01T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-02T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2021-01-03T00:00:00.000000000Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="continuity.html">Continuity</a></span>
  <span class="next"><a href="fenl-faq.html">Fenl FAQ</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
&copy; Copyright The Kaskada Authors 
</footer><script src="../../../_/js/site.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script src="../../../_/js/vendor/fenl.min.js"></script>
<script>hljs.highlightAll();</script>
  </body>
</html>
